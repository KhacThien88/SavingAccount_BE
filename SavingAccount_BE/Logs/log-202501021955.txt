2025-01-02 19:55:10.712 +07:00 [DBG] Connection id "0HN9B5C6JUDHL" accepted.
2025-01-02 19:55:10.729 +07:00 [DBG] Connection id "0HN9B5C6JUDHL" started.
2025-01-02 19:55:10.735 +07:00 [DBG] Connection 0HN9B5C6JUDHL established using the following protocol: "Tls13"
2025-01-02 19:55:10.744 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/Account/SignIn - null null
2025-01-02 19:55:10.750 +07:00 [DBG] OPTIONS requests are not supported
2025-01-02 19:55:10.752 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:10.754 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:10.755 +07:00 [DBG] The request is a preflight request.
2025-01-02 19:55:10.757 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/Account/SignIn - 204 null null 13.7286ms
2025-01-02 19:55:10.760 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/Account/SignIn - application/json 58
2025-01-02 19:55:10.768 +07:00 [DBG] POST requests are not supported
2025-01-02 19:55:10.770 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:10.772 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:10.774 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:10.775 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Account/SignIn'
2025-01-02 19:55:10.778 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)' with route pattern 'api/Account/SignIn' is valid for the request path '/api/Account/SignIn'
2025-01-02 19:55:10.781 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)'
2025-01-02 19:55:10.783 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)'
2025-01-02 19:55:10.785 +07:00 [INF] Route matched with {action = "SignIn", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(SavingAccount_BE.Model.SignInModel) on controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE).
2025-01-02 19:55:10.788 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:10.790 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:10.793 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:10.796 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:10.799 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:10.802 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE)
2025-01-02 19:55:10.804 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE)
2025-01-02 19:55:10.806 +07:00 [DBG] Attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel' ...
2025-01-02 19:55:10.809 +07:00 [DBG] Attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel' using the name '' in request data ...
2025-01-02 19:55:10.811 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-02 19:55:10.814 +07:00 [DBG] Connection id "0HN9B5C6JUDHL", Request id "0HN9B5C6JUDHL:00000003": started reading request body.
2025-01-02 19:55:10.816 +07:00 [DBG] Connection id "0HN9B5C6JUDHL", Request id "0HN9B5C6JUDHL:00000003": done reading request body.
2025-01-02 19:55:10.819 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.SignInModel'
2025-01-02 19:55:10.820 +07:00 [DBG] Done attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel'.
2025-01-02 19:55:10.823 +07:00 [DBG] Done attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel'.
2025-01-02 19:55:10.826 +07:00 [DBG] Attempting to validate the bound parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel' ...
2025-01-02 19:55:10.829 +07:00 [DBG] Done attempting to validate the bound parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel'.
2025-01-02 19:55:10.833 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:10.836 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:10.837 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:10.839 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:10.841 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:10.843 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:10.845 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:10.848 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:10.851 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-02 19:55:10.934 +07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-02 19:55:10.937 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:10.940 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:10.941 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:10.943 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:10.945 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:11.104 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.106 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.108 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.109 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:11.110 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:11.112 +07:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-01-02 19:55:11.132 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-01-02 19:55:11.136 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:11.138 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:11.140 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.143 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:11.146 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.149 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.153 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.154 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:11.155 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:11.157 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-02 19:55:11.186 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-02 19:55:11.273 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:11.321 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 47ms reading results.
2025-01-02 19:55:11.323 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.325 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:11.344 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.346 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.347 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.348 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:11.447 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (100ms).
2025-01-02 19:55:11.451 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-02 19:55:11.473 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-02 19:55:11.485 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:11.488 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:11.490 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:11.491 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.493 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:11.494 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.495 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.499 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.503 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:11.506 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:11.507 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-01-02 19:55:11.512 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-01-02 19:55:11.514 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:11.516 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:11.518 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.519 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:11.522 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-01-02 19:55:11.523 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.525 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.526 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.527 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:11.528 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:11.529 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-02 19:55:11.540 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-02 19:55:11.544 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:11.548 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:11.549 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.553 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:11.554 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.555 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.556 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.557 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:11.560 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:11.563 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-02 19:55:11.576 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-02 19:55:11.581 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:11.585 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:11.589 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.592 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:11.658 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:11.665 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:11.669 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:11.671 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:11.676 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-02 19:55:11.677 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-01-02 19:55:11.678 +07:00 [INF] Executed action SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE) in 876.8553ms
2025-01-02 19:55:11.687 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)'
2025-01-02 19:55:11.688 +07:00 [INF] HTTP POST /api/Account/SignIn responded 200 in 914.8010 ms
2025-01-02 19:55:11.690 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:11.692 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.694 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:55:11.698 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/Account/SignIn - 200 null text/plain; charset=utf-8 938.6446ms
2025-01-02 19:55:11.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:11.806 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:11.807 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:11.812 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:11.814 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:11.818 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:11.822 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:11.828 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:11.831 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:11.836 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:11.841 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:11.847 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:11.852 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:11.858 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:11.862 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:11.867 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:11.873 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:11.877 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:11.879 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:11.884 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:11.897 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:11.899 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:11.901 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:11.904 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:11.909 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:11.911 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:11.913 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.920 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.923 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.925 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:11.927 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:11.930 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:11.968 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:11.971 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:11.974 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:11.976 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.978 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:11.982 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.984 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:11.986 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:11.988 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:11.990 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:11.992 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:12.003 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:12.006 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:12.008 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:12.010 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.012 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:12.015 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.017 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.019 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:12.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:12.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:12.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:12.126 +07:00 [INF] Executed DbCommand (102ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:12.135 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:12.137 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:12.139 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:12.140 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:12.142 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.143 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:12.144 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:12.146 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:12.147 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:12.147 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:12.148 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:12.149 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:12.151 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 283.197ms
2025-01-02 19:55:12.152 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:12.153 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 339.5552 ms
2025-01-02 19:55:12.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:12.156 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:12.163 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.163 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:12.164 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:55:12.166 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:12.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 378.8692ms
2025-01-02 19:55:12.169 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:12.174 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:12.175 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:12.177 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:12.179 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:12.181 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:12.183 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:12.186 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:12.188 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:12.190 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:12.193 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:12.196 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:12.200 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:12.204 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:12.205 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:12.206 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:12.207 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:12.208 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:12.209 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:12.211 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:12.214 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:12.219 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:12.266 +07:00 [DBG] Created DbConnection. (46ms).
2025-01-02 19:55:12.272 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.278 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.292 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:12.296 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:12.300 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:12.304 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:12.311 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:12.316 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:12.321 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:12.323 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.324 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:12.326 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.328 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.329 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:12.331 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:12.332 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:12.335 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:12.361 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:12.363 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:12.365 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:12.401 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.402 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (0ms).
2025-01-02 19:55:12.404 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.405 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.433 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:12.440 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:12.441 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:12.442 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:12.458 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:12.589 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:12.593 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:12.594 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:12.596 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:12.598 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.599 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:12.604 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:12.607 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:12.608 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:12.609 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:12.611 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:12.612 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:12.614 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 414.92ms
2025-01-02 19:55:12.618 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:12.620 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 446.2638 ms
2025-01-02 19:55:12.622 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:12.623 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:12.624 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:55:12.626 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 471.036ms
2025-01-02 19:55:17.891 +07:00 [DBG] Connection id "0HN9B5C6JUDHL" received FIN.
2025-01-02 19:55:17.896 +07:00 [DBG] Connection id "0HN9B5C6JUDHL" is closed. The last processed stream ID was 7.
2025-01-02 19:55:17.896 +07:00 [DBG] The connection queue processing loop for 0HN9B5C6JUDHL completed.
2025-01-02 19:55:17.900 +07:00 [DBG] Connection id "0HN9B5C6JUDHL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-01-02 19:55:17.923 +07:00 [DBG] Connection id "0HN9B5C6JUDHL" stopped.
2025-01-02 19:55:18.670 +07:00 [DBG] Connection id "0HN9B5C6JUDHM" accepted.
2025-01-02 19:55:18.672 +07:00 [DBG] Connection id "0HN9B5C6JUDHM" started.
2025-01-02 19:55:18.679 +07:00 [DBG] Connection 0HN9B5C6JUDHM established using the following protocol: "Tls13"
2025-01-02 19:55:18.684 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:18.691 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:18.693 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:18.695 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:18.696 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:18.698 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:55:18.699 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:55:18.701 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:18.703 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:18.704 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:18.707 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:18.708 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:18.710 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:18.713 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:18.716 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:18.718 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:18.721 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:18.723 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:18.725 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:18.730 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:18.746 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:18.803 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:18.813 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:18.829 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:18.836 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:18.838 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:55:18.841 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:18.844 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:18.847 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:18.850 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:18.854 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:18.856 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:18.883 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.084 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.096 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:55:19.106 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.112 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:55:19.119 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.123 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.135 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.137 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:19.140 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:19.142 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.152 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.165 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.168 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:19.172 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.175 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:19.194 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.197 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.200 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.201 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:19.203 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.204 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:19.206 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:19.209 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:19.213 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:19.214 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:19.215 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:19.217 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:19.219 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:19.221 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:19.223 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:19.225 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:19.227 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:19.229 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:19.231 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:19.233 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:19.235 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:19.237 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:19.240 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:19.242 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:19.244 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:19.246 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.247 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.249 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:19.251 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.254 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:19.257 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:19.259 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:19.260 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.261 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:19.262 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.265 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.267 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.270 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.271 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.272 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.274 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:19.276 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:19.278 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.280 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.286 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:19.289 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.289 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.293 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.295 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.297 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:19.299 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.301 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:19.305 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:19.307 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:19.309 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.311 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:19.313 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.319 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:19.323 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:19.325 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:19.334 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:19.338 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.341 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:19.344 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.346 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:19.349 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.351 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.353 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.355 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:19.357 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.359 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:19.430 +07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:19.431 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:19.433 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.437 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.439 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:19.441 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.443 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.444 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.446 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:19.447 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:19.450 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.451 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.454 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.455 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:19.457 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.459 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:19.460 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.463 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:19.464 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:19.465 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:19.467 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:19.469 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:19.473 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:19.476 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:19.478 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 240.818ms
2025-01-02 19:55:19.480 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:19.480 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:19.485 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 269.7486 ms
2025-01-02 19:55:19.483 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:19.486 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:19.488 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:19.489 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:19.492 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.493 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.495 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:19.497 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.498 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-02 19:55:19.500 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:19.502 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:55:19.504 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 299.7805ms
2025-01-02 19:55:19.505 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:19.507 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.513 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:19.516 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:19.518 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:19.521 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.521 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:19.524 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.525 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:19.527 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.530 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:19.531 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:19.534 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:19.536 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:19.538 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:19.540 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:19.542 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:19.547 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:19.549 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:19.551 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:19.554 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:19.556 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:19.558 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.559 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.560 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:19.561 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:19.565 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.567 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.569 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:19.572 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:19.573 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.576 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:19.578 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:19.579 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:55:19.582 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.583 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.585 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.587 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.589 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.590 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.592 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.594 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.596 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:19.597 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:19.600 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:19.602 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.611 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.615 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.617 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:19.617 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:19.620 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.623 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.625 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:19.627 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.629 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.631 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.633 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.635 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.637 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.639 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.641 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.643 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 19ms reading results.
2025-01-02 19:55:19.645 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:19.647 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:19.650 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:19.655 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:19.658 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:19.658 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:19.661 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.661 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:19.663 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:19.664 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:19.667 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.668 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:19.671 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:19.672 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:19.675 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.676 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 957.5184ms
2025-01-02 19:55:19.678 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.680 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:19.680 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:19.681 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.683 +07:00 [INF] HTTP GET /api/user/History responded 200 in 986.9529 ms
2025-01-02 19:55:19.687 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:19.688 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:19.690 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:19.691 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:19.693 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-01-02 19:55:19.694 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.696 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:19.697 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:19.699 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-02 19:55:19.700 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:19.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 1020.5973ms
2025-01-02 19:55:19.706 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:55:19.710 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:55:19.713 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:19.713 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:19.719 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.719 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:19.721 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:19.721 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:19.723 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.724 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:19.726 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:19.728 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:19.730 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.733 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:19.734 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:19.737 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:19.738 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:19.740 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:19.742 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:19.744 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:19.745 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:19.749 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:19.750 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:19.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:19.756 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 206.2585ms
2025-01-02 19:55:19.758 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:19.759 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 259.3793 ms
2025-01-02 19:55:19.761 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:19.788 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.789 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:55:19.790 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 310.742ms
2025-01-02 19:55:19.748 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:19.798 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:19.800 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:19.803 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.805 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.806 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:19.808 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:19.811 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:19.814 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:19.815 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:19.817 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.820 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.821 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.823 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:19.825 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:19.834 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.846 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.906 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:19.907 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:19.909 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.910 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:19.913 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.914 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:19.916 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:19.920 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:19.921 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:19.923 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:19.996 +07:00 [INF] Executed DbCommand (73ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:20.014 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:20.048 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 33ms reading results.
2025-01-02 19:55:20.049 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.050 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:20.052 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.054 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.055 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:20.056 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:20.057 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:20.059 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:20.166 +07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:20.171 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:20.173 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:20.174 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:20.175 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:20.176 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.178 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:20.179 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.181 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.182 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:20.183 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:20.186 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:20.187 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:20.281 +07:00 [INF] Executed DbCommand (94ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:20.286 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:20.289 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:20.292 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.295 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:20.304 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.306 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.315 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:20.325 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:20.332 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-01-02 19:55:20.335 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:20.374 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:20.375 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:20.387 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:20.390 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:20.392 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:20.394 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:20.396 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:20.398 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:20.400 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:20.402 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.404 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:20.406 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:20.409 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:20.412 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.414 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:20.416 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.417 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:20.419 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:20.420 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:20.422 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:20.425 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:20.427 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:20.430 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:20.432 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:20.434 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:20.440 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:20.442 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:20.444 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:20.447 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:20.447 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:20.449 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:20.453 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:20.454 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:20.456 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:20.458 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:20.460 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.461 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:20.463 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:20.464 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:20.467 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.475 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:20.477 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.485 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:20.487 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:20.491 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:20.492 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:20.493 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:55:20.495 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:20.496 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.498 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:20.500 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.504 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:20.506 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:20.508 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:20.509 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:20.511 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:20.514 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:20.516 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:20.519 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:20.520 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:20.522 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:20.523 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:20.525 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.527 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:20.528 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:20.530 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:20.533 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.535 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 19ms reading results.
2025-01-02 19:55:20.537 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.539 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.541 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:20.542 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:20.544 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:20.546 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:20.549 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:20.552 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:20.554 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:20.555 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:20.559 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:20.562 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:20.564 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:20.566 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 821.9086ms
2025-01-02 19:55:20.568 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:20.570 +07:00 [INF] HTTP GET /api/user/History responded 200 in 869.7975 ms
2025-01-02 19:55:20.572 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:20.574 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:20.576 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:55:20.579 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 898.9702ms
2025-01-02 19:55:21.181 +07:00 [INF] Executed DbCommand (627ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:21.186 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.188 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:21.191 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.193 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:21.195 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.198 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.200 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:21.203 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:21.205 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:21.207 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:21.236 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:21.239 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.243 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:21.245 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.247 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:21.250 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.252 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.254 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:21.255 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:21.257 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:21.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:21.288 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:21.332 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:21.335 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.337 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:21.338 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.340 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:21.342 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.343 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.345 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:21.346 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:21.349 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:21.350 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:21.729 +07:00 [INF] Executed DbCommand (380ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:21.734 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:21.737 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:21.739 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.741 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:21.745 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.747 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:21.749 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:21.751 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:21.754 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:21.755 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:21.758 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.760 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.762 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:21.764 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:21.766 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:21.768 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:21.777 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:21.782 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.784 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:21.787 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.789 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:21.791 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.793 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.795 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:21.796 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:21.798 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:21.800 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:21.810 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:21.813 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.816 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:21.818 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.820 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:21.823 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.825 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.827 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:21.828 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:21.830 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:21.832 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:21.842 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:21.845 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.847 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:21.849 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.850 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:21.853 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.855 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:21.857 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:21.858 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:21.860 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:21.861 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:21.993 +07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:21.997 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:21.998 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:22.002 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.004 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:22.006 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.011 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.013 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.014 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:22.017 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:22.020 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:22.089 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:22.100 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:22.103 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:22.105 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:22.107 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:22.110 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:22.112 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:22.115 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:22.117 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:22.119 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:22.122 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:22.124 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:22.126 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:22.129 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:22.133 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:22.134 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:22.136 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:22.138 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:22.140 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:22.143 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.145 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.149 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:22.152 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.155 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:22.158 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:22.159 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:22.161 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.163 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.165 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.168 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:22.169 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:22.171 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:22.595 +07:00 [INF] Executed DbCommand (424ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:22.597 +07:00 [INF] Executed DbCommand (577ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:22.605 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:22.602 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:22.611 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:55:22.609 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:22.614 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.630 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.637 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (23ms).
2025-01-02 19:55:22.643 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (12ms).
2025-01-02 19:55:22.646 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.652 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:22.657 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.664 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:22.666 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.668 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:22.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:22.672 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:22.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:22.678 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:22.681 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:22.683 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:22.690 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 2245.5099ms
2025-01-02 19:55:22.692 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:22.694 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:22.700 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:22.702 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2302.6776 ms
2025-01-02 19:55:22.704 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:22.708 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:22.709 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:22.712 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.713 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:22.715 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:55:22.717 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:22.720 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:22.721 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 2347.4927ms
2025-01-02 19:55:22.722 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:22.726 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:22.742 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:22.744 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 17ms reading results.
2025-01-02 19:55:22.745 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:22.748 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.750 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:22.754 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:55:22.760 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:22.765 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.766 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:22.769 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.772 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:22.774 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.778 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:22.780 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:22.782 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:22.784 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:22.787 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:22.789 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:22.791 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:22.797 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:22.799 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:22.802 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.807 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.824 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:22.828 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.828 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:22.831 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:22.834 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:22.837 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:22.839 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:22.840 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:55:22.841 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:22.843 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.844 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:22.846 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.848 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.850 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.851 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:22.853 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:22.854 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:22.856 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:22.859 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:22.862 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:22.863 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:22.867 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:22.869 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:22.869 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:22.870 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:22.873 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:22.876 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:22.875 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 740.2605ms
2025-01-02 19:55:22.877 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:22.881 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:22.882 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:22.884 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.886 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:22.887 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 780.0460 ms
2025-01-02 19:55:22.889 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:22.890 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:22.893 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:22.895 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.896 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:22.897 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.899 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.901 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:22.903 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-02 19:55:22.904 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.906 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:22.908 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 819.3217ms
2025-01-02 19:55:22.909 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:22.912 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:22.917 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-02 19:55:22.919 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:22.921 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:22.922 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:22.928 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:22.930 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:22.932 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:22.935 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:22.936 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:22.938 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:22.941 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:22.943 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:22.945 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:22.947 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:22.949 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.951 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:22.954 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:22.956 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:22.959 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.961 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.964 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.966 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.968 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.970 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:22.971 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:22.974 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:22.975 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:22.978 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:22.979 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:22.982 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:22.986 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-02 19:55:22.988 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.989 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:22.991 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:22.993 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:22.995 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:22.995 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:22.998 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.000 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:23.002 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:23.007 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.009 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:23.011 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:23.012 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.015 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.017 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.019 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:23.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.024 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.025 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:23.027 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:23.029 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:23.031 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:23.035 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.040 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.041 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:23.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:23.045 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:23.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:23.049 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:23.053 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.056 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:23.057 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:23.058 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.061 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.063 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:23.065 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:23.067 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.070 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.072 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.073 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:23.075 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.077 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.078 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:23.080 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.082 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:23.084 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.086 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:23.088 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:23.092 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:23.094 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:23.097 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:23.101 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:23.102 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:23.103 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:23.106 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:23.107 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.111 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:23.109 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:23.113 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.115 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.117 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:23.121 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 15ms reading results.
2025-01-02 19:55:23.123 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:23.126 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.127 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:23.129 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:23.130 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:23.132 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:23.133 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:23.137 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:23.138 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.139 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:23.141 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.142 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:23.144 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.144 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:23.146 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:23.147 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:23.149 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:23.150 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 207.0737ms
2025-01-02 19:55:23.153 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:23.155 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:23.159 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 262.4893 ms
2025-01-02 19:55:23.159 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:23.163 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:23.165 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.168 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.169 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:23.179 +07:00 [DBG] Disposed connection to database '' on server '' (11ms).
2025-01-02 19:55:23.181 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.183 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 306.9276ms
2025-01-02 19:55:23.185 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:23.195 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.197 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.199 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.203 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:23.205 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:23.206 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:23.304 +07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:23.316 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.319 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:23.320 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.321 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:23.323 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.324 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.325 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.326 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:23.328 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:23.329 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:23.356 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:23.358 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.359 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:23.362 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.364 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:23.367 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.369 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.371 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.372 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:23.374 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:23.376 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:23.387 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:23.389 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.391 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:23.393 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.395 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:23.397 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.398 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.400 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:23.401 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:23.402 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:23.403 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:23.414 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:23.418 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:23.419 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:23.421 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:23.422 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:23.424 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:23.428 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:23.429 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:23.430 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:23.432 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:23.434 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:23.436 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 649.0285ms
2025-01-02 19:55:23.437 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:23.439 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 726.1145 ms
2025-01-02 19:55:23.439 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:23.441 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:24.022 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:24.023 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:24.025 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:24.028 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-02 19:55:24.030 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:24.032 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:24.032 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 1340.8902ms
2025-01-02 19:55:24.034 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:24.038 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:24.045 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:24.047 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:24.055 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:24.060 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:24.064 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:24.065 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:24.067 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:24.069 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:55:24.071 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:24.083 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:55:24.087 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:24.090 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:24.093 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:24.094 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:24.097 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:24.098 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:24.101 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:24.104 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:24.106 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:24.108 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:24.110 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:24.112 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:24.114 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:24.117 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:24.119 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:24.121 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:24.123 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:24.124 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:24.128 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:24.130 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:24.131 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:24.133 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:24.135 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:24.137 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:24.139 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:24.141 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:24.144 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:24.145 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:24.148 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:24.152 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:24.153 +07:00 [DBG] Created DbConnection. (5ms).
2025-01-02 19:55:24.166 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:24.175 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:24.178 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:24.179 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:24.182 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:24.183 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:24.184 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:55:24.186 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:24.187 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:24.189 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:24.190 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:24.192 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:24.194 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:24.198 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:24.200 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:24.202 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:25.376 +07:00 [INF] Executed DbCommand (1,184ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:25.377 +07:00 [INF] Executed DbCommand (1,175ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:25.380 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.382 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.384 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:25.386 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:25.388 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.390 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.392 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:25.394 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:25.397 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.399 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.401 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.403 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.405 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:25.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:25.412 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:25.414 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:25.416 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:25.417 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:25.539 +07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:25.542 +07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:25.543 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.548 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.549 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:25.551 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:25.554 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.557 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.558 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:25.560 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:25.563 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.565 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.566 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.568 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.570 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.572 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.574 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:25.575 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:25.577 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:25.579 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:25.580 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:25.582 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:25.612 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:25.615 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:25.616 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:25.620 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.622 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:25.624 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:25.626 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.628 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.632 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 16ms reading results.
2025-01-02 19:55:25.635 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:55:25.638 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.642 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.644 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:25.646 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.651 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.649 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.654 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:25.656 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.660 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.658 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:25.662 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:25.664 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:25.666 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:25.671 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:25.680 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:25.684 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:25.686 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:25.686 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.689 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.691 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:25.693 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:25.695 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.697 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.698 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:25.700 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:25.703 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.705 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.706 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.708 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.709 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.711 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.712 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:25.714 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:25.716 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:25.717 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:25.719 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:25.721 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:25.826 +07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:25.926 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:25.949 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:25.952 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 25ms reading results.
2025-01-02 19:55:25.961 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.963 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:25.967 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.971 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:25.973 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:25.975 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:25.976 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:25.980 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:26.113 +07:00 [INF] Executed DbCommand (394ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:26.130 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:26.146 +07:00 [INF] Executed DbCommand (166ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:26.147 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:26.159 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:26.162 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:26.164 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:26.166 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 35ms reading results.
2025-01-02 19:55:26.179 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.188 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.190 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:26.192 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:26.195 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.197 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:26.199 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.201 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:26.203 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:26.205 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:26.207 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:26.209 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:26.210 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:26.212 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.214 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:26.215 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.220 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:26.221 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:26.223 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:26.225 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:26.277 +07:00 [INF] Executed DbCommand (64ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:26.280 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:26.282 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:26.283 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:26.284 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:26.290 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:26.292 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:26.294 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:26.295 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:26.298 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.300 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 20ms reading results.
2025-01-02 19:55:26.303 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:26.306 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.308 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.310 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:26.313 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.315 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:26.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:26.332 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:26.343 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:26.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (21ms).
2025-01-02 19:55:26.349 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:26.354 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (37ms).
2025-01-02 19:55:26.363 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:26.378 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:26.399 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:26.426 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 2301.0936ms
2025-01-02 19:55:26.435 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:26.437 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:26.444 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:26.445 +07:00 [INF] HTTP GET /api/user/History responded 200 in 2379.9333 ms
2025-01-02 19:55:26.447 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:26.449 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:26.451 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:26.453 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.455 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:26.457 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-02 19:55:26.458 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:55:26.461 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 2429.046ms
2025-01-02 19:55:26.462 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:55:26.469 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:26.471 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:26.472 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:26.476 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:26.478 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:26.480 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:26.483 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:26.484 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:26.487 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:26.489 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:26.491 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:26.498 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:26.500 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:26.502 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:26.504 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:26.506 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:26.511 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:26.519 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:26.521 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:26.523 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.525 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:26.527 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:26.528 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:26.530 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:26.532 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.189 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:30.196 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:30.200 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:30.203 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:30.205 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:30.207 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:30.210 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:30.212 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:30.214 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:30.216 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:30.232 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:30.240 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:30.243 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:30.247 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:30.249 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:30.253 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:30.255 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:30.257 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:30.258 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:30.260 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.262 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.265 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:30.266 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.269 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:30.272 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:30.273 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:30.275 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.284 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.286 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.288 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:30.290 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:30.309 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.402 +07:00 [INF] Executed DbCommand (4,024ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.403 +07:00 [INF] Executed DbCommand (3,871ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.405 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.406 +07:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.409 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.411 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:30.415 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.416 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:30.419 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.421 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:30.422 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.424 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:30.426 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.428 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:30.431 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.433 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:55:30.436 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.437 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.439 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.441 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.443 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.445 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.447 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.448 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:30.450 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.452 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:30.453 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:30.455 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:30.456 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:30.458 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:30.460 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:30.462 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.467 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:30.472 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.473 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:30.476 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.477 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:30.479 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.481 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:30.485 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.488 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:30.490 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.492 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:30.494 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.496 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:30.498 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.499 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:30.502 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.504 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:30.506 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.507 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.509 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.511 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.513 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.514 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.516 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.517 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:30.519 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.520 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:30.521 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:30.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:30.524 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:30.526 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:30.528 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:30.530 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:30.534 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:30.545 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:30.549 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:30.551 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:30.553 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.555 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:30.557 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:30.558 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.561 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.563 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:30.566 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:30.568 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:30.570 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.574 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:30.574 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:30.576 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:30.580 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:30.581 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:30.583 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.585 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:30.587 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:30.590 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.592 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.593 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:30.596 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.597 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 17ms reading results.
2025-01-02 19:55:30.599 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:30.601 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:30.605 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.608 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 355.1355ms
2025-01-02 19:55:30.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:30.611 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-01-02 19:55:30.614 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:30.616 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:30.621 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:30.623 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:30.627 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.629 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 424.5228 ms
2025-01-02 19:55:30.631 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:30.646 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:30.636 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.647 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:30.639 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:30.653 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:30.654 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.655 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:30.657 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.658 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:30.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:30.661 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:30.663 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-01-02 19:55:30.666 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.667 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-01-02 19:55:30.675 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:30.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 483.0741ms
2025-01-02 19:55:30.673 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:30.669 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:30.685 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:30.687 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:30.691 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:30.692 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:30.693 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:30.695 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:30.696 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:30.699 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:30.700 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:30.703 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:30.705 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:30.707 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:30.709 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 6599.3032ms
2025-01-02 19:55:30.711 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:30.713 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:30.715 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:30.718 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:30.720 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:30.722 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 6688.4478 ms
2025-01-02 19:55:30.724 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:30.726 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:30.729 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:30.731 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:30.733 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:30.734 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.736 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:30.738 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:30.739 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-02 19:55:30.741 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:30.743 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:30.745 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 7306.0922ms
2025-01-02 19:55:30.747 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:30.749 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.756 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:30.758 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.759 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:30.761 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:30.763 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:30.768 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:30.765 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.770 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:30.773 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:30.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:30.777 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:30.780 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:30.781 +07:00 [DBG] Created DbConnection. (4ms).
2025-01-02 19:55:30.784 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:30.786 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.789 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:30.791 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.793 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:30.795 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.797 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:30.799 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:30.800 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:30.803 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:30.805 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.806 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:30.808 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.812 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:30.814 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:30.817 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:30.820 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:30.822 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:30.823 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.825 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:30.827 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:30.829 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:30.831 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:30.833 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:31.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:31.078 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:31.080 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:31.082 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:31.083 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:31.085 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:31.089 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:31.091 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:31.093 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:31.094 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:31.096 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:31.098 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:31.101 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:31.105 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:31.107 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:31.109 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.112 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.114 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.116 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:31.118 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.119 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.121 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.123 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.126 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:31.130 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:31.131 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:31.133 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.162 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.164 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.166 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:31.169 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:31.171 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:31.177 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:31.181 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.188 +07:00 [INF] Executed DbCommand (355ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:31.189 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:31.191 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.201 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.203 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:55:31.206 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:31.208 +07:00 [INF] Executed DbCommand (402ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:31.208 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.211 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.214 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.217 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:31.218 +07:00 [INF] Executed DbCommand (543ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:55:31.222 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.227 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 12ms reading results.
2025-01-02 19:55:31.229 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.234 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.238 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.246 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:31.242 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.244 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:31.240 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.248 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:31.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.253 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.255 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (14ms).
2025-01-02 19:55:31.257 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:31.258 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:31.261 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:31.347 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.269 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:31.264 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.357 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.358 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:31.366 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.377 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.390 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2025-01-02 19:55:31.396 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:31.398 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-01-02 19:55:31.402 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-01-02 19:55:31.404 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:31.406 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:31.457 +07:00 [INF] Executed DbCommand (200ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:31.457 +07:00 [INF] Executed DbCommand (99ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:31.475 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.477 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:31.485 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.490 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 14ms reading results.
2025-01-02 19:55:31.498 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.500 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 14ms reading results.
2025-01-02 19:55:31.504 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.505 +07:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:55:31.507 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:31.513 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.516 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (12ms).
2025-01-02 19:55:31.520 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.522 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.523 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:31.524 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:31.527 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.528 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.530 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:31.535 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:31.538 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.539 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.541 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 21ms reading results.
2025-01-02 19:55:31.543 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.544 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:31.547 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.548 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.551 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.553 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.554 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:31.556 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.558 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:31.560 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:31.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.564 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:31.566 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:31.567 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:55:31.570 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.571 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:31.572 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Profile'
2025-01-02 19:55:31.574 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:31.576 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:31.578 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.580 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-02 19:55:31.581 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)' with route pattern 'api/user/Profile' is valid for the request path '/api/user/Profile'
2025-01-02 19:55:31.584 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:31.589 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.591 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:31.594 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:55:31.598 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:31.603 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:55:31.604 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-01-02 19:55:31.606 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:31.608 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:31.608 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:31.610 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:31.615 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.617 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:31.619 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.621 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:31.622 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:31.622 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.624 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:31.625 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:31.628 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.629 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 14ms reading results.
2025-01-02 19:55:31.630 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:55:31.632 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.634 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:31.636 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:31.638 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.641 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.643 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:31.645 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.647 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.649 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:31.650 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:55:31.653 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.655 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.656 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:31.658 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:31.661 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.662 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:31.664 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.667 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.671 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:31.672 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:31.675 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.676 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:31.678 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.679 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:31.681 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.682 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.685 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.686 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.688 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:31.689 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.691 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.693 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.694 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:31.695 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:31.697 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.698 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:31.700 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.702 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-02 19:55:31.704 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:31.706 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:31.707 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-02 19:55:31.714 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 988.0867ms
2025-01-02 19:55:31.709 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.711 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:31.717 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2025-01-02 19:55:31.719 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:31.721 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:31.728 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:31.733 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 1077.4909 ms
2025-01-02 19:55:31.723 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:31.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:31.743 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:31.749 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:31.753 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:31.756 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:31.760 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:31.762 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.763 +07:00 [DBG] Created DbConnection. (10ms).
2025-01-02 19:55:31.765 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:31.766 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:31.768 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-01-02 19:55:31.770 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.772 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:31.773 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:31.776 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 1165.8153ms
2025-01-02 19:55:31.778 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.779 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:31.780 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:31.790 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.792 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:31.794 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:31.795 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:31.797 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:31.800 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:31.803 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-02 19:55:31.805 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:31.807 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:31.810 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:55:31.811 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:31.813 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:31.818 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:31.820 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:31.823 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:31.824 +07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:55:31.825 +07:00 [INF] Executed DbCommand (114ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:31.826 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:31.828 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:31.830 +07:00 [INF] Executed DbCommand (112ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:31.832 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.835 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.837 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:31.839 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:31.842 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.844 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.847 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.850 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:31.852 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:31.854 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.856 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.857 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 22ms reading results.
2025-01-02 19:55:31.860 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:31.862 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:31.864 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 21ms reading results.
2025-01-02 19:55:31.866 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.868 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.870 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:31.872 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.874 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.876 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.877 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:31.879 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.881 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.882 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:31.884 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 52ms reading results.
2025-01-02 19:55:31.887 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.888 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:31.890 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.891 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.893 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.895 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.896 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.897 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:31.899 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.900 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:31.902 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.903 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:31.905 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.907 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.909 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:31.911 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:31.913 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.914 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.915 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:31.918 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:31.920 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-01-02 19:55:31.921 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.923 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.924 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-02 19:55:31.925 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:31.927 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:31.928 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:31.929 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.931 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:31.932 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:31.936 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:31.938 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:31.941 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:31.943 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:31.945 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:31.947 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:31.950 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:31.951 +07:00 [DBG] Created DbConnection. (5ms).
2025-01-02 19:55:31.953 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 5466.0827ms
2025-01-02 19:55:31.954 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-02 19:55:31.955 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.957 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:55:31.958 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.960 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.961 +07:00 [INF] HTTP GET /api/user/History responded 200 in 5506.1467 ms
2025-01-02 19:55:31.965 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:31.968 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:31.971 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:31.969 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:31.974 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:55:31.976 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:31.979 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 5543.7028ms
2025-01-02 19:55:31.980 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:31.984 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:31.991 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.992 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:31.993 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:31.995 +07:00 [INF] Executed DbCommand (186ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:55:31.995 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.998 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:31.999 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.001 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:32.002 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:32.004 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 13ms reading results.
2025-01-02 19:55:32.005 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.007 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.009 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.009 +07:00 [INF] Executed DbCommand (83ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:32.011 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.012 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:32.014 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 13ms reading results.
2025-01-02 19:55:32.015 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:55:32.017 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:32.022 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:32.025 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2025-01-02 19:55:32.028 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.030 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.031 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:32.033 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:32.035 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.037 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:32.038 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.040 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.041 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:32.046 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:32.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.049 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.049 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 31ms reading results.
2025-01-02 19:55:32.050 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:32.054 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:32.055 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:32.059 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.060 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.061 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:32.063 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:32.066 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:32.067 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:32.069 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:32.071 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.073 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:32.074 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.076 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.078 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:32.079 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.081 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:32.087 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:32.086 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:32.091 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.099 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:32.103 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-01-02 19:55:32.094 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:32.095 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:32.098 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:32.093 +07:00 [INF] Executing OkObjectResult, writing value of type 'SavingAccount_BE.Data.ApplicationUser'.
2025-01-02 19:55:32.105 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.110 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:32.114 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:32.120 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:32.115 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE) in 470.3917ms
2025-01-02 19:55:32.106 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:32.111 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.127 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:32.128 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:32.131 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:32.133 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:55:32.135 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.136 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.137 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:32.138 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:32.139 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:32.140 +07:00 [INF] HTTP GET /api/user/Profile responded 200 in 575.9682 ms
2025-01-02 19:55:32.141 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.143 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:32.144 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:32.144 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:32.145 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:32.147 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:32.149 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.150 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-01-02 19:55:32.151 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:32.152 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:32.153 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:32.154 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.155 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:32.157 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.159 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:32.160 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:32.162 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Profile'
2025-01-02 19:55:32.163 +07:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-01-02 19:55:32.164 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-01-02 19:55:32.168 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:32.170 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:32.172 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)' with route pattern 'api/user/Profile' is valid for the request path '/api/user/Profile'
2025-01-02 19:55:32.173 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 650.4708ms
2025-01-02 19:55:32.174 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.176 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:32.177 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:32.179 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:55:32.186 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:32.187 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:32.188 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:55:32.190 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:32.192 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:32.193 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:32.199 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:32.200 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:32.201 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:32.203 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:32.204 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:32.205 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:32.206 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:32.208 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:32.209 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:32.211 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.212 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.213 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:32.214 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.217 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:32.219 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:32.220 +07:00 [DBG] Created DbConnection. (0ms).
2025-01-02 19:55:32.220 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.270 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.271 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.272 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:32.280 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:32.282 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:55:32.197 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:32.286 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:32.289 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:32.290 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:32.291 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:32.292 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:32.293 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:32.295 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:32.296 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.297 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.298 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:32.299 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.301 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:32.306 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:32.306 +07:00 [DBG] Created DbConnection. (0ms).
2025-01-02 19:55:32.307 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.237 +07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.310 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.312 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:32.314 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.315 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:32.317 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.320 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.321 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:32.323 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:32.324 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.228 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.328 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.330 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:32.327 +07:00 [INF] Executed DbCommand (253ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.336 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.337 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:32.339 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.340 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:32.342 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.343 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.346 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.347 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:32.348 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:32.350 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.195 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:32.358 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:32.360 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:32.361 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:32.363 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:32.365 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:32.367 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:32.369 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:32.371 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.372 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.373 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:32.374 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:32.376 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:32.332 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.228 +07:00 [INF] Executed DbCommand (123ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.382 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.448 +07:00 [INF] Executed DbCommand (98ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.580 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.684 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:32.688 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (355ms).
2025-01-02 19:55:32.702 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.708 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.718 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.721 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.724 +07:00 [DBG] Created DbConnection. (40ms).
2025-01-02 19:55:32.727 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.729 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 27ms reading results.
2025-01-02 19:55:32.730 +07:00 [INF] Executed DbCommand (449ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:55:32.731 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 23ms reading results.
2025-01-02 19:55:32.734 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 15ms reading results.
2025-01-02 19:55:32.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2025-01-02 19:55:32.737 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.739 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.741 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.744 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:32.746 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.748 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.750 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2025-01-02 19:55:32.753 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.755 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (13ms).
2025-01-02 19:55:32.756 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.758 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:32.760 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:32.761 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.763 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:32.765 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.767 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 22ms reading results.
2025-01-02 19:55:32.769 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.771 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.775 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-01-02 19:55:32.777 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.779 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.780 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.782 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.784 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.786 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.788 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:32.790 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.792 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.796 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:32.798 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:32.800 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:32.801 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.802 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:32.803 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.804 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-01-02 19:55:32.807 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:32.808 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:32.810 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.811 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:55:32.814 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.816 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.817 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.818 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:32.819 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:32.821 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:32.822 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:32.824 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:55:32.829 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.830 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.830 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:32.834 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-01-02 19:55:32.839 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.841 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:55:32.843 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.844 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:32.845 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.847 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:32.849 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.851 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:32.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'SavingAccount_BE.Data.ApplicationUser'.
2025-01-02 19:55:32.858 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.859 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:32.860 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:32.861 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.863 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE) in 658.2834ms
2025-01-02 19:55:32.865 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.867 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.869 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.871 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:32.872 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:55:32.874 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.876 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.878 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:32.881 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.882 +07:00 [INF] HTTP GET /api/user/Profile responded 200 in 728.7702 ms
2025-01-02 19:55:32.884 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:32.886 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.887 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.890 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.892 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:32.894 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:55:32.895 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:32.897 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:32.899 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.900 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.903 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.905 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:55:32.907 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.908 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:32.910 +07:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-01-02 19:55:32.914 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.916 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.918 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:32.920 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 799.9225ms
2025-01-02 19:55:32.925 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:32.926 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.932 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:55:32.937 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-02 19:55:32.939 +07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:32.939 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.942 +07:00 [INF] Executed DbCommand (119ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:32.942 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:32.945 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.945 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.946 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:32.946 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:32.948 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:32.950 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.954 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.957 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.960 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.963 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.964 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:32.966 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 24ms reading results.
2025-01-02 19:55:32.968 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 14ms reading results.
2025-01-02 19:55:32.970 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 12ms reading results.
2025-01-02 19:55:32.972 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:55:32.973 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:32.975 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 26ms reading results.
2025-01-02 19:55:32.977 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.979 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.981 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.983 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.984 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.987 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:32.988 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:32.990 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:32.992 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:32.993 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:32.995 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:32.997 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:32.999 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.001 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.003 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.007 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.009 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.011 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.013 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.015 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.016 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.018 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.020 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.022 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.024 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.025 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.027 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.031 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.033 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:33.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:33.036 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:33.037 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:33.038 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:33.040 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:33.042 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-01-02 19:55:33.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:33.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:33.047 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:33.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:55:33.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:55:33.053 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.055 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.056 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.058 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.060 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.061 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.077 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.078 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.078 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.079 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.079 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.081 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.084 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.087 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.091 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.093 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.096 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.099 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.101 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 17ms reading results.
2025-01-02 19:55:33.103 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 15ms reading results.
2025-01-02 19:55:33.105 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 14ms reading results.
2025-01-02 19:55:33.107 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 13ms reading results.
2025-01-02 19:55:33.109 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.111 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.113 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.116 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.118 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.121 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.123 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.125 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.127 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (13ms).
2025-01-02 19:55:33.128 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (12ms).
2025-01-02 19:55:33.130 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:33.132 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (11ms).
2025-01-02 19:55:33.133 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 37ms reading results.
2025-01-02 19:55:33.139 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 39ms reading results.
2025-01-02 19:55:33.141 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.144 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.146 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.148 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.150 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.152 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.153 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.155 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.156 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.158 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.160 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:33.162 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:33.163 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.165 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.167 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.169 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.171 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.173 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.175 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-01-02 19:55:33.176 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:33.178 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-01-02 19:55:33.180 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-01-02 19:55:33.181 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.183 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.187 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-01-02 19:55:33.189 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-01-02 19:55:33.192 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-01-02 19:55:33.202 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.195 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:33.197 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:33.199 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.200 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.194 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-01-02 19:55:33.204 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.216 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.205 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:33.213 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.241 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.242 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:33.244 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.245 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:33.247 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:33.249 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:33.250 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:33.250 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:33.253 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:33.254 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:33.217 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 0ms reading results.
2025-01-02 19:55:33.367 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.355 +07:00 [INF] Executed DbCommand (156ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.374 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.205 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:33.359 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 2570.0438ms
2025-01-02 19:55:33.214 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.373 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:33.218 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.379 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.381 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.382 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:33.386 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:33.387 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.388 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 13ms reading results.
2025-01-02 19:55:33.394 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.390 +07:00 [INF] Executed DbCommand (176ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.390 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2654.4102 ms
2025-01-02 19:55:33.392 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:33.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.389 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.395 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:33.397 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.398 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:33.399 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:33.400 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:33.401 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.403 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.404 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.405 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.406 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:33.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-01-02 19:55:33.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:33.409 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.410 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 13ms reading results.
2025-01-02 19:55:33.411 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-01-02 19:55:33.412 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:33.413 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.414 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-02 19:55:33.416 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.417 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 499 null application/json; charset=utf-8 2708.8325ms
2025-01-02 19:55:33.420 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:33.423 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.427 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:33.425 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:33.428 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.432 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 2323.0945ms
2025-01-02 19:55:33.436 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.437 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.437 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-01-02 19:55:33.440 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.441 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:33.443 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.444 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.445 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.446 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:33.452 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.448 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:33.449 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.452 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.447 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2363.9570 ms
2025-01-02 19:55:33.453 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:33.454 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.455 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:33.457 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.458 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:33.460 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.462 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:33.463 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-01-02 19:55:33.464 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.465 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.466 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.467 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.470 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.471 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.472 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-01-02 19:55:33.473 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.474 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.476 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:33.477 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 19ms reading results.
2025-01-02 19:55:33.478 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 499 null application/json; charset=utf-8 2405.2582ms
2025-01-02 19:55:33.479 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:33.480 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.481 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.482 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.487 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-01-02 19:55:33.488 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:33.489 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:33.490 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:33.491 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-02 19:55:33.493 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.495 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.497 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.498 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 16ms reading results.
2025-01-02 19:55:33.499 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.504 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.506 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:33.508 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:33.508 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:33.510 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.510 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.510 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.511 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.512 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:33.514 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.516 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.517 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.518 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:33.519 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:33.520 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:33.521 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.522 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:33.523 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.524 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.525 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:33.526 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.527 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:33.528 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:55:33.529 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:33.530 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.532 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.533 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.534 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.535 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.536 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.537 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.539 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.540 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:33.545 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:33.542 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.543 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.541 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.547 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.548 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:33.549 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:33.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:33.559 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-01-02 19:55:33.559 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:33.564 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.565 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-01-02 19:55:33.566 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.569 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.570 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:55:33.570 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.573 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:33.622 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.625 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:33.627 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.628 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.630 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.632 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:33.633 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:33.634 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.574 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.641 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.640 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.647 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.648 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 0ms reading results.
2025-01-02 19:55:33.650 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.653 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:33.656 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.657 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.659 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.660 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:33.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:33.663 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.576 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.670 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.692 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 21ms reading results.
2025-01-02 19:55:33.677 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.697 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.699 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:33.703 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.705 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:33.707 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.709 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.710 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.712 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:33.714 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:33.716 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.644 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.722 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (77ms).
2025-01-02 19:55:33.723 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (79ms).
2025-01-02 19:55:33.724 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.694 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.728 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:33.732 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.730 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:33.729 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (34ms).
2025-01-02 19:55:33.733 +07:00 [INF] Executed DbCommand (163ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:33.830 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 97ms reading results.
2025-01-02 19:55:33.843 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.851 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.859 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:33.864 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.870 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 26ms reading results.
2025-01-02 19:55:33.875 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.881 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 22ms reading results.
2025-01-02 19:55:33.886 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (22ms).
2025-01-02 19:55:33.890 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.903 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:33.977 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (74ms).
2025-01-02 19:55:33.949 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.960 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (70ms).
2025-01-02 19:55:33.920 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.982 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (79ms).
2025-01-02 19:55:33.987 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.991 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:33.994 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (74ms).
2025-01-02 19:55:33.998 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.001 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.004 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.007 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.010 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.011 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:55:34.013 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.015 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.018 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.019 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:55:34.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:34.022 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.024 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:34.026 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:34.028 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-01-02 19:55:34.029 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:34.032 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.036 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.036 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:34.038 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-01-02 19:55:34.040 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:34.045 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.047 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.049 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.051 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:34.054 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.055 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.055 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.057 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.060 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.061 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.064 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.066 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:55:34.068 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:34.070 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:34.072 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:34.074 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.076 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.077 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-02 19:55:34.079 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.081 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.083 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:34.085 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.086 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:34.088 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.090 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.093 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.095 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:34.096 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:34.098 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.100 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.103 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:34.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-02 19:55:34.107 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.109 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:34.110 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:34.111 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.112 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:34.114 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.116 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:34.120 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-01-02 19:55:34.120 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.122 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:34.123 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:34.125 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.128 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.130 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:34.132 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:34.136 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.141 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 1778.5687ms
2025-01-02 19:55:34.137 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:34.140 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:34.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:34.145 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.146 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:34.148 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.158 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:34.153 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:34.155 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:55:34.156 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2012.6917 ms
2025-01-02 19:55:34.149 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:34.161 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.162 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:34.164 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.166 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:34.167 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:34.169 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.171 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:34.173 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:55:34.174 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.175 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:34.177 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.178 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:34.180 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:34.182 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-01-02 19:55:34.184 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:34.185 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:34.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 2097.3644ms
2025-01-02 19:55:34.187 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:34.190 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:34.195 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 2315.7461ms
2025-01-02 19:55:34.196 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:55:34.202 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:34.203 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:34.205 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:34.207 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.210 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:34.211 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:34.212 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2431.5649 ms
2025-01-02 19:55:34.216 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:34.217 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.217 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:34.220 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:34.221 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:34.224 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.226 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:34.227 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.232 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:55:34.230 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:34.235 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 2362.7559ms
2025-01-02 19:55:34.237 +07:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-01-02 19:55:34.239 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.246 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:34.243 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:34.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 499 null application/json; charset=utf-8 2501.9154ms
2025-01-02 19:55:34.241 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:34.249 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:34.250 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2470.7616 ms
2025-01-02 19:55:34.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:34.260 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:34.262 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:34.264 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:34.265 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:34.266 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.268 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:34.269 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:34.271 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-02 19:55:34.273 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:34.274 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:34.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 499 null application/json; charset=utf-8 2541.7965ms
2025-01-02 19:55:34.277 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:34.278 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:34.284 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:34.288 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 1997.0314ms
2025-01-02 19:55:34.289 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:34.290 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:34.292 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:34.293 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2148.7399 ms
2025-01-02 19:55:34.295 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:34.299 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:34.305 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:34.297 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:34.308 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.310 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:55:34.311 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:34.315 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 499 null application/json; charset=utf-8 2224.1661ms
2025-01-02 19:55:34.321 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:34.327 +07:00 [DBG] Created DbConnection. (6ms).
2025-01-02 19:55:34.329 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.332 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.333 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:34.337 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:34.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:34.394 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:34.396 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.398 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:34.399 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.400 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:34.403 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.404 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.405 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.406 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:34.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:34.408 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:34.429 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:34.431 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.432 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:34.434 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.435 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:34.437 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.440 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.441 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.442 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:34.443 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:34.444 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:34.452 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:34.454 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.455 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:34.456 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.458 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:34.459 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.460 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.461 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.462 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:34.463 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:34.464 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.481 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:34.488 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:34.489 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.490 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:34.492 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.493 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:34.494 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.496 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.497 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.498 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:34.499 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:34.500 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.509 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:34.513 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:34.515 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:34.521 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:34.560 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 46ms reading results.
2025-01-02 19:55:34.562 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.564 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:34.567 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:34.570 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:34.572 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:34.573 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:34.575 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.577 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:34.579 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:34.581 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:35.169 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (590ms).
2025-01-02 19:55:35.197 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:35.258 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:35.262 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.265 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:35.269 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.279 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:55:35.293 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.296 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:35.305 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:35.322 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:35.326 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.328 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:35.330 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.331 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.333 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.335 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.337 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.338 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.340 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:35.341 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:35.351 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:35.354 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.355 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:35.357 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.358 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.360 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.362 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.363 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.365 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:35.368 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:35.380 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:35.383 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.384 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:35.386 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.388 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.390 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.391 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.394 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.395 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:35.397 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:35.439 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:35.442 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.443 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:35.445 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.447 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.449 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:35.452 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:35.453 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:35.455 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:35.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:35.458 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:35.461 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 1188.0039ms
2025-01-02 19:55:35.462 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:35.464 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:35.467 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:35.468 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 1290.5786 ms
2025-01-02 19:55:35.470 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:35.472 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:35.473 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:35.475 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.476 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:35.478 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:55:35.480 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:35.482 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 1338.9036ms
2025-01-02 19:55:35.483 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:35.490 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:35.491 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:35.493 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:35.496 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:35.498 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:35.500 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:35.504 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:35.506 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:35.508 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:35.511 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:35.513 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:35.514 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:35.516 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:35.518 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:35.520 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:35.522 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:35.524 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:35.527 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:35.528 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:35.529 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.531 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.532 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.534 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.535 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:35.537 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:35.553 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:35.556 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.558 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:35.559 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.561 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.563 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.565 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.567 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.569 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.571 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:35.573 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:35.584 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:35.587 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.589 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:35.590 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.592 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.594 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.596 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.597 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.598 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.600 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:35.602 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:35.652 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:35.655 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.656 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:35.658 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.660 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.662 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.664 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.666 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.667 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.669 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:35.671 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:35.683 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:35.707 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:35.708 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.709 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:35.711 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.712 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.714 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.715 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.716 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.717 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:35.720 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:35.721 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:35.739 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:35.792 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:35.793 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:35.795 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.797 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:35.799 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.803 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:35.806 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:35.807 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:35.808 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:35.809 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:35.810 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.811 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.812 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.813 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:35.814 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:35.815 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:35.850 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:35.855 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.857 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:35.859 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.861 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.863 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.871 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.872 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.874 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.876 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:35.878 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:35.889 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:35.893 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.895 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:35.897 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.899 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.902 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.903 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.905 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.906 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.908 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:35.910 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:35.922 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:35.924 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.925 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 0ms reading results.
2025-01-02 19:55:35.927 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.928 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.930 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.931 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.932 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.933 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:35.935 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:35.936 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:35.942 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:35.944 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:35.945 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:35.947 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.948 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:35.950 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.953 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:35.954 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:35.955 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:55:35.956 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:35.957 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:36.033 +07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:36.037 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.039 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:36.041 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.043 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:36.046 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:36.051 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:36.052 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:36.053 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:36.054 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:36.056 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:36.059 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 550.5862ms
2025-01-02 19:55:36.061 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:36.062 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 586.4507 ms
2025-01-02 19:55:36.066 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:36.063 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:36.068 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.072 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:36.074 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-02 19:55:36.075 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:36.078 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 615.9868ms
2025-01-02 19:55:36.079 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:36.088 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:36.090 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:36.092 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:36.093 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:36.095 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:36.098 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:36.101 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:36.103 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:36.105 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:36.107 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:36.108 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:36.110 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:36.112 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:36.114 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:36.116 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:36.118 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:36.119 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:36.121 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:36.122 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:36.124 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:36.126 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:36.127 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:36.129 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.131 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.133 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.136 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:36.140 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:36.145 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:36.348 +07:00 [INF] Executed DbCommand (203ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:36.371 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.379 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:55:36.384 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.388 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:36.392 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.395 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.397 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.400 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:36.403 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:36.405 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:36.434 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:36.441 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.443 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:36.464 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.472 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:55:36.480 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.484 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.487 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.489 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:36.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:55:36.495 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:36.505 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:36.508 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.510 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:36.513 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.515 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:36.517 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.519 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.520 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.522 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.523 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:36.525 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:36.540 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:36.544 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:36.546 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.548 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:36.552 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.554 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:36.557 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.559 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.561 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.563 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.564 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:36.566 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:36.576 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:36.579 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:36.580 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:36.582 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.584 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:55:36.586 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.587 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:36.589 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:36.591 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:36.592 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:36.593 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:36.595 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.597 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.599 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.600 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.602 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:36.603 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:36.613 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:36.616 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.617 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:36.619 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.621 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:36.623 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.625 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.627 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.629 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.631 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:36.633 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:36.643 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:36.646 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.648 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:36.650 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.652 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:36.654 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.656 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.658 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.659 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:36.663 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:36.672 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:36.675 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.677 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:36.679 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.681 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:36.683 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.685 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.687 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.688 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.690 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:36.692 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:36.708 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:36.712 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.714 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:36.716 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.718 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:36.720 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.722 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.723 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.725 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.726 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:36.728 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:36.743 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:36.747 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.749 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:36.751 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.754 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:36.756 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:55:36.760 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:55:36.762 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:55:36.763 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:55:36.764 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:55:36.767 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:55:36.770 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 659.68ms
2025-01-02 19:55:36.773 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:36.774 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:36.778 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:36.779 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 691.8842 ms
2025-01-02 19:55:36.786 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:55:36.781 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:36.789 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.790 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:36.792 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:55:36.794 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:36.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 734.7172ms
2025-01-02 19:55:36.799 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:36.805 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:55:36.807 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:36.808 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:55:36.810 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:36.812 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:36.814 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:36.816 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:36.819 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:36.820 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:36.822 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:36.823 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:36.840 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:36.841 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:36.842 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:36.843 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:36.845 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:36.846 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:36.847 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:36.850 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:36.850 +07:00 [DBG] Created DbConnection. (0ms).
2025-01-02 19:55:36.852 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.871 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.873 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.875 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:36.879 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:36.882 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:36.911 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:36.915 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:36.919 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:55:36.921 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.923 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:36.925 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.927 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:36.929 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:36.930 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:36.933 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:36.944 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:36.962 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:37.012 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:37.013 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:55:37.124 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:37.126 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:37.128 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:37.130 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:37.134 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:37.137 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:37.138 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:37.140 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:39.049 +07:00 [INF] Executed DbCommand (1,909ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:39.053 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:39.055 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:39.057 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.059 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:39.062 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.064 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.066 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:39.068 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:39.069 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:39.071 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:39.087 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:55:39.091 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:39.093 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:39.094 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:39.097 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.099 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:55:39.101 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.103 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.105 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:39.107 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:39.109 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:39.111 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:39.123 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:55:39.127 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:39.129 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:55:39.131 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:39.133 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:55:39.136 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.138 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:39.140 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:39.142 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:55:39.143 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:55:39.145 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:55:39.147 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.149 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:39.151 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:39.152 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:39.154 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:39.155 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:41.088 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:55:41.096 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:55:41.104 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:55:41.131 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:55:41.132 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:55:41.135 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:55:41.137 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:55:41.147 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:41.149 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:55:41.159 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:55:41.177 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:55:41.181 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:55:41.185 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:55:41.190 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:55:41.195 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:55:41.197 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:41.200 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:55:41.202 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:41.204 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:55:41.206 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:41.208 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:55:41.210 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:55:41.212 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:55:41.215 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:55:41.220 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:55:41.222 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:55:41.224 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.226 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.229 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:41.231 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:41.235 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:55:41.237 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:41.340 +07:00 [INF] Executed DbCommand (2,185ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:55:41.344 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:41.346 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:41.349 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.350 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:41.356 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.358 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.361 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:41.362 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:41.364 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:41.366 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:41.383 +07:00 [INF] Executed DbCommand (146ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:41.387 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:41.389 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:41.391 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.393 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:55:41.396 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.398 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.399 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:55:41.400 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:41.403 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:41.405 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:41.407 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:55:41.409 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:55:41.410 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.412 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:41.414 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:41.419 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.421 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:41.423 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:41.425 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:55:41.426 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:55:41.428 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:55:46.138 +07:00 [INF] Executed DbCommand (4,726ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:55:46.145 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:55:46.148 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:55:46.153 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:55:46.156 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:55:46.161 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:55:46.165 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:55:46.169 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:55:46.171 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:55:46.174 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:55:46.176 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:55:57.909 +07:00 [DBG] Connection id "0HN9B5C6JUDHM" received FIN.
2025-01-02 19:55:57.975 +07:00 [DBG] Connection id "0HN9B5C6JUDHM" is closed. The last processed stream ID was 51.
2025-01-02 19:55:57.979 +07:00 [DBG] Connection id "0HN9B5C6JUDHM" sending FIN because: "The Socket transport's send loop completed gracefully."
