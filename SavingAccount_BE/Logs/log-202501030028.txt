2025-01-03 00:28:22.025 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/user/opening-SavingAccount - null null
2025-01-03 00:28:22.069 +07:00 [DBG] OPTIONS requests are not supported
2025-01-03 00:28:22.070 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:28:22.071 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:28:22.072 +07:00 [DBG] The request is a preflight request.
2025-01-03 00:28:22.074 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/user/opening-SavingAccount - 204 null null 49.1447ms
2025-01-03 00:28:22.081 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - application/json 277
2025-01-03 00:28:22.133 +07:00 [DBG] POST requests are not supported
2025-01-03 00:28:22.134 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:28:22.135 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:28:22.136 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:28:22.137 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:22.138 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)' with route pattern 'api/user/opening-SavingAccount' is valid for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:22.142 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:22.144 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:22.150 +07:00 [INF] Route matched with {action = "openSavingAccount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] openSavingAccount(SavingAccount_BE.Model.AddSavingAccountModel) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:28:22.152 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:28:22.154 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:28:22.155 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:28:22.158 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:28:22.160 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:28:22.162 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:22.164 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:22.165 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:22.166 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' using the name '' in request data ...
2025-01-03 00:28:22.168 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:28:22.170 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000027": started reading request body.
2025-01-03 00:28:22.171 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000027": done reading request body.
2025-01-03 00:28:22.180 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.AddSavingAccountModel'
2025-01-03 00:28:22.181 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:22.182 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:22.185 +07:00 [DBG] Attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:22.199 +07:00 [DBG] Done attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:22.207 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:28:22.212 +07:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.Id == __addSavingAccountModel_IdUser_0)'
2025-01-03 00:28:22.221 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.Address (string) Required, 2], [Property: ApplicationUser.Base64Image (string), 3], [Property: ApplicationUser.BirthDate (DateTime) Required, 4], [Property: ApplicationUser.City (string) Required, 5], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 6], [Property: ApplicationUser.Email (string) MaxLength(256), 7], [Property: ApplicationUser.EmailConfirmed (bool) Required, 8], [Property: ApplicationUser.FullName (string) Required, 9], [Property: ApplicationUser.LockoutEnabled (bool) Required, 10], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 11], [Property: ApplicationUser.Nation (string) Required, 12], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 13], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 14], [Property: ApplicationUser.PasswordHash (string), 15], [Property: ApplicationUser.PhoneNumber (string), 16], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 17], [Property: ApplicationUser.Province (string) Required, 18], [Property: ApplicationUser.SecurityStamp (string), 19], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 20], [Property: ApplicationUser.UserName (string) MaxLength(256), 21] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.Address, a.Base64Image, a.BirthDate, a.City, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.Nation, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Province, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.Id == @__addSavingAccountModel_IdUser_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2025-01-03 00:28:22.226 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:28:22.227 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:28:22.229 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.231 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.233 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:22.235 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:28:22.237 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:28:22.239 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:22.258 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:22.264 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:22.266 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:22.271 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-03 00:28:22.274 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.276 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:28:22.472 +07:00 [DBG] Compiling query expression: 
'DbSet<SavingAccount>()
    .FirstOrDefault(sa => sa.NameOfSavingAccount == __addSavingAccountModel_SavingAccountName_0)'
2025-01-03 00:28:22.484 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SavingAccount>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SavingAccount.IdSavingAccount (string) Required PK AfterSave:Throw, 0], [Property: SavingAccount.Balance (double) Required, 1], [Property: SavingAccount.DateOpened (DateTime) Required, 2], [Property: SavingAccount.Deposits (double) Required ValueGenerated.OnAdd, 3], [Property: SavingAccount.NameOfSavingAccount (string) Required, 4], [Property: SavingAccount.Term (string) Required, 5], [Property: SavingAccount.Withdraw (double) Required ValueGenerated.OnAdd, 6] }
        SELECT TOP(1) s.IdSavingAccount, s.Balance, s.DateOpened, s.Deposits, s.NameOfSavingAccount, s.Term, s.Withdraw
        FROM SavingAccount AS s
        WHERE s.NameOfSavingAccount == @__addSavingAccountModel_SavingAccountName_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SavingAccount>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2025-01-03 00:28:22.488 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.492 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.494 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:22.498 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:28:22.502 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:28:22.505 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_SavingAccountName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[NameOfSavingAccount] = @__addSavingAccountModel_SavingAccountName_0
2025-01-03 00:28:22.515 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__addSavingAccountModel_SavingAccountName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[NameOfSavingAccount] = @__addSavingAccountModel_SavingAccountName_0
2025-01-03 00:28:22.520 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:22.522 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:22.525 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:28:22.528 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.529 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:28:22.532 +07:00 [DBG] Compiling query expression: 
'DbSet<Card>()
    .FirstOrDefault(c => c.IdCard == __addSavingAccountModel_IdCard_0)'
2025-01-03 00:28:22.538 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Card>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Card.IdCard (string) Required PK AfterSave:Throw, 0], [Property: Card.Balance (double) Required, 1], [Property: Card.Base64Image (string), 2], [Property: Card.CardNumber (string) Required, 3], [Property: Card.DateOpened (DateTime) Required, 4], [Property: Card.NameOfCard (string) Required, 5], [Property: Card.TypeCard (string) Required, 6] }
        SELECT TOP(1) c.IdCard, c.Balance, c.Base64Image, c.CardNumber, c.DateOpened, c.NameOfCard, c.TypeCard
        FROM Card AS c
        WHERE c.IdCard == @__addSavingAccountModel_IdCard_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Card>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2025-01-03 00:28:22.542 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.545 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.547 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:22.549 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:28:22.550 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:28:22.552 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_IdCard_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] = @__addSavingAccountModel_IdCard_0
2025-01-03 00:28:22.560 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__addSavingAccountModel_IdCard_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] = @__addSavingAccountModel_IdCard_0
2025-01-03 00:28:22.563 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:22.565 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:22.567 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:28:22.569 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.571 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:28:22.574 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:28:22.577 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:28:22.578 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:28:22.579 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:28:22.581 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:28:22.582 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-03 00:28:22.584 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE) in 422.6615ms
2025-01-03 00:28:22.586 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:22.588 +07:00 [ERR] HTTP POST /api/user/opening-SavingAccount responded 500 in 451.4529 ms
2025-01-03 00:28:22.592 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:28:22.594 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:22.596 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:28:22.599 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - 500 null text/plain; charset=utf-8 518.1077ms
2025-01-03 00:28:36.409 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/user/opening-SavingAccount - null null
2025-01-03 00:28:36.421 +07:00 [DBG] OPTIONS requests are not supported
2025-01-03 00:28:36.425 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:28:36.428 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:28:36.431 +07:00 [DBG] The request is a preflight request.
2025-01-03 00:28:36.434 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/user/opening-SavingAccount - 204 null null 26.0574ms
2025-01-03 00:28:36.439 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - application/json 277
2025-01-03 00:28:36.461 +07:00 [DBG] POST requests are not supported
2025-01-03 00:28:36.466 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:28:36.468 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:28:36.469 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:28:36.472 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:36.474 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)' with route pattern 'api/user/opening-SavingAccount' is valid for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:36.478 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:36.487 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:36.494 +07:00 [INF] Route matched with {action = "openSavingAccount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] openSavingAccount(SavingAccount_BE.Model.AddSavingAccountModel) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:28:36.500 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:28:36.503 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:28:36.508 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:28:36.517 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:28:36.525 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:28:36.543 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:36.553 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:36.563 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:36.568 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' using the name '' in request data ...
2025-01-03 00:28:36.574 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:28:36.578 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000002B": started reading request body.
2025-01-03 00:28:36.583 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000002B": done reading request body.
2025-01-03 00:28:36.588 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.AddSavingAccountModel'
2025-01-03 00:28:36.592 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:36.617 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:36.621 +07:00 [DBG] Attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:36.623 +07:00 [DBG] Done attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:36.634 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:28:36.651 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:28:36.653 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-03 00:28:36.656 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.659 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.662 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:36.664 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:28:36.666 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:28:36.669 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:36.673 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:36.678 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:36.680 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:36.683 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:28:36.685 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.688 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:28:36.840 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.843 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.845 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:36.846 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:28:36.848 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:28:36.850 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_SavingAccountName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[NameOfSavingAccount] = @__addSavingAccountModel_SavingAccountName_0
2025-01-03 00:28:36.854 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__addSavingAccountModel_SavingAccountName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[NameOfSavingAccount] = @__addSavingAccountModel_SavingAccountName_0
2025-01-03 00:28:36.857 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:36.860 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:36.862 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:28:36.865 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.867 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:28:36.870 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.873 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.875 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:36.876 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:28:36.878 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:28:36.880 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_IdCard_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] = @__addSavingAccountModel_IdCard_0
2025-01-03 00:28:36.883 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__addSavingAccountModel_IdCard_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] = @__addSavingAccountModel_IdCard_0
2025-01-03 00:28:36.886 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:36.887 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:36.890 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:28:36.892 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.894 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:28:36.896 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:28:36.899 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:28:36.900 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:28:36.901 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:28:36.902 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:28:36.904 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-03 00:28:36.906 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE) in 363.6939ms
2025-01-03 00:28:36.909 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:36.911 +07:00 [ERR] HTTP POST /api/user/opening-SavingAccount responded 500 in 441.6171 ms
2025-01-03 00:28:36.914 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:28:36.915 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:36.917 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:28:36.919 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - 500 null text/plain; charset=utf-8 480.2506ms
2025-01-03 00:28:42.005 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/user/opening-SavingAccount - null null
2025-01-03 00:28:42.010 +07:00 [DBG] OPTIONS requests are not supported
2025-01-03 00:28:42.013 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:28:42.016 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:28:42.022 +07:00 [DBG] The request is a preflight request.
2025-01-03 00:28:42.025 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/user/opening-SavingAccount - 204 null null 20.7126ms
2025-01-03 00:28:42.031 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - application/json 276
2025-01-03 00:28:42.058 +07:00 [DBG] POST requests are not supported
2025-01-03 00:28:42.063 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:28:42.066 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:28:42.068 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:28:42.071 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:42.075 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)' with route pattern 'api/user/opening-SavingAccount' is valid for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:42.081 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:42.090 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:42.094 +07:00 [INF] Route matched with {action = "openSavingAccount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] openSavingAccount(SavingAccount_BE.Model.AddSavingAccountModel) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:28:42.100 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:28:42.105 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:28:42.110 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:28:42.114 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:28:42.118 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:28:42.123 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:42.127 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:42.130 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:42.137 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' using the name '' in request data ...
2025-01-03 00:28:42.142 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:28:42.145 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000002F": started reading request body.
2025-01-03 00:28:42.147 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000002F": done reading request body.
2025-01-03 00:28:42.149 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.AddSavingAccountModel'
2025-01-03 00:28:42.150 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:42.152 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:42.154 +07:00 [DBG] Attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:42.156 +07:00 [DBG] Done attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:42.160 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:28:42.163 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:28:42.164 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:28:42.166 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:42.168 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:42.169 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:42.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:28:42.175 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:28:42.177 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:42.182 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:42.188 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:42.190 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:42.193 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:28:42.197 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:42.199 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:28:42.363 +07:00 [DBG] Invalid password for user.
2025-01-03 00:28:42.365 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:28:42.368 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:28:42.369 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:28:42.371 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:28:42.372 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:28:42.374 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-03 00:28:42.377 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE) in 254.7454ms
2025-01-03 00:28:42.380 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:42.381 +07:00 [ERR] HTTP POST /api/user/opening-SavingAccount responded 500 in 313.1856 ms
2025-01-03 00:28:42.385 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:28:42.387 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:42.389 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:28:42.391 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - 500 null text/plain; charset=utf-8 360.4134ms
2025-01-03 00:28:44.887 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - application/json 277
2025-01-03 00:28:44.899 +07:00 [DBG] POST requests are not supported
2025-01-03 00:28:44.903 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:28:44.909 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:28:44.911 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:28:44.915 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:44.921 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)' with route pattern 'api/user/opening-SavingAccount' is valid for the request path '/api/user/opening-SavingAccount'
2025-01-03 00:28:44.929 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:44.932 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:44.935 +07:00 [INF] Route matched with {action = "openSavingAccount", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] openSavingAccount(SavingAccount_BE.Model.AddSavingAccountModel) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:28:44.941 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:28:44.951 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:28:44.957 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:28:44.965 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:28:44.968 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:28:44.975 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:44.981 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:28:44.990 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:44.993 +07:00 [DBG] Attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' using the name '' in request data ...
2025-01-03 00:28:45.003 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:28:45.008 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000031": started reading request body.
2025-01-03 00:28:45.010 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000031": done reading request body.
2025-01-03 00:28:45.016 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.AddSavingAccountModel'
2025-01-03 00:28:45.018 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:45.021 +07:00 [DBG] Done attempting to bind parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:45.024 +07:00 [DBG] Attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel' ...
2025-01-03 00:28:45.028 +07:00 [DBG] Done attempting to validate the bound parameter 'addSavingAccountModel' of type 'SavingAccount_BE.Model.AddSavingAccountModel'.
2025-01-03 00:28:45.035 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:28:45.040 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:28:45.042 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:28:45.046 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.055 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.058 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:45.062 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:28:45.072 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-01-03 00:28:45.080 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:45.094 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__addSavingAccountModel_IdUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__addSavingAccountModel_IdUser_0
2025-01-03 00:28:45.103 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:45.110 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:45.113 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-03 00:28:45.117 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.120 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:28:45.280 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.282 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.284 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:45.285 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:28:45.287 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:28:45.289 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_SavingAccountName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[NameOfSavingAccount] = @__addSavingAccountModel_SavingAccountName_0
2025-01-03 00:28:45.292 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__addSavingAccountModel_SavingAccountName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[NameOfSavingAccount] = @__addSavingAccountModel_SavingAccountName_0
2025-01-03 00:28:45.296 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:45.298 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:45.300 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:28:45.302 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.304 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:28:45.306 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.308 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.310 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:28:45.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:28:45.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:28:45.315 +07:00 [DBG] Executing DbCommand [Parameters=[@__addSavingAccountModel_IdCard_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] = @__addSavingAccountModel_IdCard_0
2025-01-03 00:28:45.319 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__addSavingAccountModel_IdCard_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] = @__addSavingAccountModel_IdCard_0
2025-01-03 00:28:45.322 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:28:45.323 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:28:45.325 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:28:45.326 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.329 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:28:45.330 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:28:45.333 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:28:45.334 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:28:45.336 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:28:45.336 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:28:45.338 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-03 00:28:45.340 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE) in 365.4158ms
2025-01-03 00:28:45.342 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.openSavingAccount (SavingAccount_BE)'
2025-01-03 00:28:45.343 +07:00 [ERR] HTTP POST /api/user/opening-SavingAccount responded 500 in 432.7792 ms
2025-01-03 00:28:45.346 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:28:45.347 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:28:45.349 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:28:45.351 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/user/opening-SavingAccount - 500 null text/plain; charset=utf-8 463.1821ms
