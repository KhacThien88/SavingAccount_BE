2025-01-02 19:51:19.234 +07:00 [DBG] Connection id "0HN9B5C6JUDHD" accepted.
2025-01-02 19:51:19.290 +07:00 [DBG] Connection id "0HN9B5C6JUDHD" started.
2025-01-02 19:51:19.302 +07:00 [DBG] Connection 0HN9B5C6JUDHD established using the following protocol: "Tls13"
2025-01-02 19:51:19.310 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:19.313 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:19.316 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:19.318 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:19.320 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:19.323 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:51:19.328 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:51:19.331 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:19.332 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:19.333 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:19.335 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:19.337 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:19.340 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:19.344 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:19.346 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:19.348 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:19.350 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:19.351 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:19.353 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:19.357 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:19.368 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:19.371 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:19.374 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:19.378 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:19.382 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:19.390 +07:00 [DBG] Created DbConnection. (7ms).
2025-01-02 19:51:19.393 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.401 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.404 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.406 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.408 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:51:19.410 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.428 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.431 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.433 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:19.435 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.436 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.438 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.440 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.442 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.443 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.445 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:19.446 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.488 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.499 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.506 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:51:19.508 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.511 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:19.514 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.516 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.518 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.520 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.521 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.523 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.537 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.541 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.543 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.544 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.546 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:19.548 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.550 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.552 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.554 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.555 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.557 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.559 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:19.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:19.585 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:19.588 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.589 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:19.591 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.593 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.595 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.597 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.599 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.600 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.602 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:19.604 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.626 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.629 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.631 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.633 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:19.635 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.636 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.639 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.641 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.642 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.644 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.645 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:19.647 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:19.671 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:19.674 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.675 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:19.677 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.679 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.681 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.683 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.684 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.686 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.687 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.689 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:19.701 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:19.704 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.706 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.708 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.709 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:19.711 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.713 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.715 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:19.717 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:19.718 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:19.719 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:19.720 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:19.722 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:19.725 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 377.2669ms
2025-01-02 19:51:19.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:19.727 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:19.730 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:19.732 +07:00 [INF] HTTP GET /api/user/History responded 200 in 411.7797 ms
2025-01-02 19:51:19.733 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:19.736 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:19.737 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:19.738 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.740 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:19.741 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:51:19.745 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:51:19.750 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 440.8422ms
2025-01-02 19:51:19.753 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:51:19.762 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:19.766 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:19.767 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:19.770 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:19.772 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:19.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:19.777 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:19.779 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:19.782 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:19.784 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:19.786 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:19.787 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:19.790 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:19.791 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:19.793 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:19.794 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:19.796 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:19.798 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:19.800 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:51:19.801 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.802 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.804 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.805 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.807 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.808 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.816 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.819 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.821 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:19.822 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.824 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.826 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.828 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.830 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.831 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.833 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.834 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.842 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:19.844 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.846 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:19.848 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.849 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.851 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.853 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.854 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.855 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.857 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.859 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.874 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.877 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.879 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.881 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.882 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:19.884 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.886 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.888 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.889 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.891 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.892 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.894 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.896 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:19.907 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:19.910 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.911 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:19.913 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.915 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:19.918 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.920 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.922 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.924 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.925 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:19.927 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.941 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:19.944 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:19.945 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.947 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:19.948 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.950 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:19.954 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.956 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.958 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.959 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.960 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:19.962 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:19.982 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:19.985 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:19.987 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:19.991 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.992 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:19.994 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.995 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:19.997 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:19.998 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:19.999 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:20.002 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:20.027 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:20.033 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:20.035 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:20.036 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:20.037 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:51:20.040 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:20.041 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:20.043 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:20.045 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:20.047 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:20.051 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:20.052 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:20.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:20.084 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 302.2278ms
2025-01-02 19:51:20.086 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:20.099 +07:00 [INF] HTTP GET /api/user/History responded 200 in 359.0784 ms
2025-01-02 19:51:20.113 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:20.125 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:20.138 +07:00 [DBG] Disposed connection to database '' on server '' (12ms).
2025-01-02 19:51:20.153 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 425.9238ms
2025-01-02 19:51:25.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:25.371 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:25.385 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:25.395 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:25.397 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:25.400 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:25.408 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:25.402 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:25.411 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:25.413 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:25.416 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:25.426 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:25.419 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:51:25.431 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:25.434 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:51:25.437 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:25.442 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:25.445 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:25.453 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:25.461 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:25.469 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:25.473 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:25.480 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:25.484 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:25.486 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:25.464 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:25.492 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:25.497 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:25.499 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:25.502 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:25.504 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:25.506 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:25.508 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.510 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:25.511 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.516 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:25.519 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:25.525 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:25.530 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.542 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:25.546 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:25.547 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:25.561 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:25.571 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:25.572 +07:00 [DBG] Created DbConnection. (10ms).
2025-01-02 19:51:25.579 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.585 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.589 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.591 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.593 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:25.595 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.596 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.598 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:25.600 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:25.601 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:25.603 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:25.605 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:25.606 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:51:25.609 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.611 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.612 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:25.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.615 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.616 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:25.618 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:25.619 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:51:25.622 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.623 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.625 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:25.629 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.631 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.632 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.633 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:25.633 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.634 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:25.647 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.650 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:25.661 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.663 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:25.676 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.677 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.687 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.688 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:25.690 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:25.699 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:25.705 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.709 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.711 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:25.714 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.716 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:25.717 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:25.718 +07:00 [DBG] Compiling query expression: 
'DbSet<UserSavingAccount>()
    .Where(usa => __userIds_0.Contains(usa.IdUser))
    .Select(usa => usa.IdSavingAccount)'
2025-01-02 19:51:25.720 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.724 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:51:25.725 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.IdSavingAccount
        FROM UserSavingAccount AS u
        WHERE u.IdUser IN (
            SELECT u0.value
            FROM OPENJSON(@__userIds_0) WITH (value nvarchar(450) '') AS u0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)'
2025-01-02 19:51:25.726 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.728 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.729 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:25.731 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.733 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.734 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.736 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.737 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:25.738 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.740 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:25.741 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:25.742 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:25.744 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:25.747 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:25.753 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:25.755 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:25.755 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.758 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:25.759 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:25.761 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:25.763 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.764 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.766 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:25.767 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:51:25.769 +07:00 [DBG] Compiling query expression: 
'DbSet<SavingAccount>()
    .Where(sa => __listSavingAccountIds_0.Contains(sa.IdSavingAccount))'
2025-01-02 19:51:25.771 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.774 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:25.775 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SavingAccount>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SavingAccount.IdSavingAccount (string) Required PK AfterSave:Throw, 0], [Property: SavingAccount.Balance (double) Required, 1], [Property: SavingAccount.DateOpened (DateTime) Required, 2], [Property: SavingAccount.Deposits (double) Required ValueGenerated.OnAdd, 3], [Property: SavingAccount.NameOfSavingAccount (string) Required, 4], [Property: SavingAccount.Term (string) Required, 5], [Property: SavingAccount.Withdraw (double) Required ValueGenerated.OnAdd, 6] }
        SELECT s.IdSavingAccount, s.Balance, s.DateOpened, s.Deposits, s.NameOfSavingAccount, s.Term, s.Withdraw
        FROM SavingAccount AS s
        WHERE s.IdSavingAccount IN (
            SELECT l.value
            FROM OPENJSON(@__listSavingAccountIds_0) WITH (value nvarchar(450) '') AS l)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SavingAccount>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)'
2025-01-02 19:51:25.776 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:25.778 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.780 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:25.781 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.782 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:25.783 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.784 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:25.785 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:25.786 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:25.788 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:51:25.789 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:25.791 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:25.792 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 267.5063ms
2025-01-02 19:51:25.794 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:25.796 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:25.800 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:25.802 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 388.3626 ms
2025-01-02 19:51:25.803 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:25.805 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:25.811 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:25.811 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:25.814 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.815 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:25.818 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:25.819 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-02 19:51:25.820 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:51:25.822 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.824 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 455.9562ms
2025-01-02 19:51:25.825 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:51:25.827 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:51:25.832 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:25.834 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.836 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:25.837 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:25.839 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:25.841 +07:00 [DBG] Compiling query expression: 
'DbSet<SavingAccountHistory>()
    .Where(sah => sah.IdSavingAccount == __savingAccount_IdSavingAccount_0)
    .Select(sah => sah.History)'
2025-01-02 19:51:25.843 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:25.846 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:25.848 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:25.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:25.852 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:25.853 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<History>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: History.IdHistory (string) Required PK AfterSave:Throw, 0], [Property: History.Change (double) Required, 1], [Property: History.DateTransfer (DateTime) Required, 2], [Property: History.Note (string) Required, 3] }
        SELECT h.IdHistory, h.Change, h.DateTransfer, h.Note
        FROM SavingAccountHistory AS s
        INNER JOIN History AS h ON s.IdHistory == h.IdHistory
        WHERE s.IdSavingAccount == @__savingAccount_IdSavingAccount_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, History>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)'
2025-01-02 19:51:25.854 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:25.857 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.858 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:25.859 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.861 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:25.862 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.864 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:25.865 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:25.867 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.868 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:25.870 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.872 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:25.873 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:25.878 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:25.880 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:25.882 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:25.882 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:25.885 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:25.886 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-02 19:51:25.888 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.889 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.891 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:25.892 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.894 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.896 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.898 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:25.897 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:25.899 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:25.903 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.906 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:25.907 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:25.909 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:51:25.910 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:51:25.911 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.912 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.914 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.916 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.917 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:25.920 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.919 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.922 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:25.923 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:51:25.925 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.926 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:51:25.928 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.929 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:25.931 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.934 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:25.935 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:25.936 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:25.939 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.941 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:25.943 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:25.947 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.949 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:25.950 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:25.951 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.954 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.956 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.958 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:25.959 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.961 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.963 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:25.964 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:25.966 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:51:25.968 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.970 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.972 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.976 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:25.977 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:25.978 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:25.980 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:25.981 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:25.987 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:25.989 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:25.990 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.990 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:25.992 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:25.995 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:25.997 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:25.999 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:26.001 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.003 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.005 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.007 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:51:26.008 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:26.010 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.012 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:51:26.014 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:26.015 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:26.017 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:26.023 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:26.024 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:26.025 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:26.026 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:26.026 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:26.028 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:26.030 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.032 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 178.2885ms
2025-01-02 19:51:26.033 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:26.035 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:26.037 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.038 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 223.3400 ms
2025-01-02 19:51:26.040 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:26.042 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:26.044 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.045 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.046 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.048 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:51:26.050 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.051 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 257.2375ms
2025-01-02 19:51:26.053 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:26.071 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-01-02 19:51:26.075 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:26.085 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:26.088 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.090 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:26.092 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.094 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.096 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.098 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.100 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.101 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.102 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.103 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:26.110 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:26.112 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.114 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:26.116 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.117 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.119 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:26.122 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:26.123 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:26.125 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:26.126 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:26.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:26.130 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 644.1836ms
2025-01-02 19:51:26.132 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:26.132 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:26.135 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:26.136 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 725.4544 ms
2025-01-02 19:51:26.137 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:26.140 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:26.141 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:26.143 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.144 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:26.145 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:51:26.147 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:26.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 777.9601ms
2025-01-02 19:51:26.150 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:26.155 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:26.157 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:26.158 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:26.161 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:26.163 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:26.164 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:26.166 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:26.168 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:26.170 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:26.173 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:26.175 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:26.176 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:26.179 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:26.180 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:26.183 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:26.184 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:26.186 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:26.190 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:26.191 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:51:26.192 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.193 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.195 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.196 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.198 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.199 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:26.204 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:26.208 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.209 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:26.211 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.213 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.215 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.217 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.219 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.220 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.222 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:26.224 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.234 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.238 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.239 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:26.241 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.243 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.245 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.247 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.249 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.253 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:26.255 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:26.282 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:26.286 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.287 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:26.291 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.293 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.295 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.297 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.298 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.301 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.302 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:26.314 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:26.317 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:26.318 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.319 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:26.320 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.322 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.324 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.325 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.327 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.328 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.330 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.331 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:26.354 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:26.358 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:26.360 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.363 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:26.366 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.368 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.370 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:26.371 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:26.373 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:51:26.374 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:51:26.379 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:26.382 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.383 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:26.384 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.386 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:26.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.389 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:26.392 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:51:26.395 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:26.397 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:51:26.399 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:51:26.404 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:26.411 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:51:26.414 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:26.416 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:26.417 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:26.420 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:26.422 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:26.424 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:26.426 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:26.428 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:26.433 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:26.439 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:26.442 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:26.444 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:26.446 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:26.447 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:26.448 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:26.450 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:26.452 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:26.455 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:26.456 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:51:26.457 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.459 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.461 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.462 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.463 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.465 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.480 +07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:26.481 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.484 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:26.486 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.490 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:26.492 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.494 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.495 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.496 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.498 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.500 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:51:26.502 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.503 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.504 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:26.508 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.509 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.511 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.512 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.514 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.515 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.516 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.518 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.518 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.523 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.525 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:26.526 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.528 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:26.529 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:26.530 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.537 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.539 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.541 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:51:26.543 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.545 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.546 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.547 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:26.549 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:26.550 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.552 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:26.553 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.564 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:26.592 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.604 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.608 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2025-01-02 19:51:26.609 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:26.611 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:51:26.612 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.614 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:26.616 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:51:26.641 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:26.649 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.659 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:26.664 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.667 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:26.676 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.680 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.685 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:51:26.688 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 28ms reading results.
2025-01-02 19:51:26.695 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:51:26.818 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.836 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:26.841 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (23ms).
2025-01-02 19:51:26.862 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.873 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.877 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:26.879 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:26.880 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:26.914 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:26.920 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.922 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:26.923 +07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:26.934 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.937 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:26.939 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:51:26.942 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:26.960 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.966 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.969 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.971 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:51:26.972 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.974 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.976 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:26.977 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:26.979 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:51:26.981 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:26.983 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:26.985 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:26.990 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:51:26.992 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:26.999 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:27.002 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:27.004 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.008 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.009 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:27.011 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.012 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.014 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:51:27.015 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:27.017 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.019 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:27.020 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:27.023 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:27.025 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:27.025 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.026 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:27.028 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.029 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:27.030 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.032 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:27.033 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:27.034 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 863.8552ms
2025-01-02 19:51:27.036 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:27.037 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:27.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:27.040 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 896.6525 ms
2025-01-02 19:51:27.044 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:27.046 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.047 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:51:27.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 917.9382ms
2025-01-02 19:51:27.052 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:27.055 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.057 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:27.058 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.060 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.062 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.064 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.065 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.066 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.067 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:27.069 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:27.079 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:27.082 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.083 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.085 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.086 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:51:27.088 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.091 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:27.093 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:27.095 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:27.096 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:27.097 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:27.098 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:27.099 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:27.101 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 667.3157ms
2025-01-02 19:51:27.103 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:27.103 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:27.106 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:27.108 +07:00 [INF] HTTP GET /api/user/History responded 200 in 712.6623 ms
2025-01-02 19:51:27.109 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:27.111 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:27.112 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:27.114 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.115 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:27.116 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:51:27.117 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:51:27.119 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 740.1246ms
2025-01-02 19:51:27.120 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:51:27.126 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:27.127 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:27.130 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:27.133 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:27.136 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:27.139 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:27.141 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:27.151 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:27.154 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:27.163 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:27.166 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:27.168 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:27.171 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:27.173 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:27.175 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:27.177 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:27.181 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:27.186 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:27.188 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:51:27.191 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.193 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.194 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.196 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.198 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:27.199 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:27.206 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:27.210 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.211 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:27.213 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.215 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.217 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.218 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.220 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.221 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.223 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:27.224 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:27.232 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:27.235 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.237 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:27.238 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.240 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.242 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.244 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.245 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.246 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.248 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:27.249 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:27.263 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:27.267 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.268 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.270 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.271 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:51:27.273 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.275 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.277 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.278 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.279 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.281 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:27.284 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:27.297 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:51:27.302 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.304 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:27.306 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.308 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.310 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.312 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.313 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.315 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:27.318 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:27.332 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:51:27.336 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.338 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.339 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:27.341 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.343 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.345 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.346 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.348 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.353 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:51:27.354 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:27.365 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:51:27.368 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.369 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:27.371 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.373 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.375 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.377 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.378 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:27.379 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:27.381 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:27.383 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:27.391 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:51:27.394 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.395 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:27.396 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:27.398 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:51:27.400 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.402 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:27.404 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:27.407 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:27.408 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:27.409 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:27.410 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:27.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:27.414 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 259.6022ms
2025-01-02 19:51:27.415 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:51:27.417 +07:00 [INF] HTTP GET /api/user/History responded 200 in 302.2946 ms
2025-01-02 19:51:27.419 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:27.421 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:27.423 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:51:27.425 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 323.0024ms
2025-01-02 19:51:27.478 +07:00 [DBG] Connection id "0HN9B5C6JUDHD" received FIN.
2025-01-02 19:51:27.479 +07:00 [DBG] Connection id "0HN9B5C6JUDHD" is closed. The last processed stream ID was 15.
2025-01-02 19:51:27.479 +07:00 [DBG] The connection queue processing loop for 0HN9B5C6JUDHD completed.
2025-01-02 19:51:27.481 +07:00 [DBG] Connection id "0HN9B5C6JUDHD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-01-02 19:51:27.492 +07:00 [DBG] Connection id "0HN9B5C6JUDHD" stopped.
2025-01-02 19:51:36.730 +07:00 [DBG] Connection id "0HN9B5C6JUDHE" accepted.
2025-01-02 19:51:36.736 +07:00 [DBG] Connection id "0HN9B5C6JUDHE" started.
2025-01-02 19:51:36.758 +07:00 [DBG] Connection 0HN9B5C6JUDHE established using the following protocol: "Tls13"
2025-01-02 19:51:36.775 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:36.775 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:36.793 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:36.798 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:36.799 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:36.801 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:36.803 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:36.806 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:36.808 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:36.809 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:36.810 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:36.812 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:51:36.813 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:36.815 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:51:36.817 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:36.819 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:36.821 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:36.823 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:36.825 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:36.826 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:36.829 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:36.832 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:36.835 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:36.838 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:36.841 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:36.843 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:36.846 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:36.855 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:36.857 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:36.859 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:36.863 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:36.861 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:36.865 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:36.867 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:36.869 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:36.871 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:36.873 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:36.874 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:36.876 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:36.878 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:36.893 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:36.895 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:36.897 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:36.900 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:36.901 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:36.903 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:36.905 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:36.907 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:36.909 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:36.911 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:36.912 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-02 19:51:36.913 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:51:36.915 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.917 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.920 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.922 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.926 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:36.925 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:36.928 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:36.930 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:36.929 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:51:36.932 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:36.935 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:51:36.939 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:36.942 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:36.945 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:36.947 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:36.948 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:36.949 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.951 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:36.952 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:36.954 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:36.957 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.958 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.960 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.961 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:36.963 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:36.965 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.966 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:36.968 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.969 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:36.970 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:36.972 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:36.974 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:36.978 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:51:36.980 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:36.983 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:36.986 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:36.986 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:36.989 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:36.992 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:36.993 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:36.995 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:36.996 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:36.998 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.001 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.003 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:51:37.005 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.006 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.008 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.009 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.011 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.015 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:51:37.016 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.013 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:51:37.022 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:51:37.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:37.025 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.028 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.029 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.031 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:37.031 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.034 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.036 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:51:37.038 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.040 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.042 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.044 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.045 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:51:37.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.049 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.051 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.052 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:37.054 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:51:37.056 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:37.057 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.060 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:37.064 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:37.065 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:37.066 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:37.068 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:37.070 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 206.8864ms
2025-01-02 19:51:37.071 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.071 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:37.072 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:37.076 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.079 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:37.080 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 271.1038 ms
2025-01-02 19:51:37.082 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.083 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:37.085 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:37.087 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:51:37.088 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:37.089 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.092 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.093 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:37.094 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-02 19:51:37.096 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:51:37.097 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:51:37.099 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 324.3851ms
2025-01-02 19:51:37.101 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.102 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:51:37.108 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.110 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:37.113 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.115 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:37.116 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.119 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:37.120 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:51:37.124 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:37.126 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.129 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:37.133 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:37.135 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:37.136 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:37.136 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.138 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:37.141 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.143 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:37.144 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.146 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:37.147 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:51:37.149 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:37.150 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.152 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:37.153 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:37.157 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:37.155 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:37.159 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:37.161 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:37.162 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:51:37.164 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:37.165 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:51:37.167 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:37.168 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.170 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:37.172 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.173 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:51:37.175 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.176 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.177 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.179 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.180 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:37.182 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.183 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:37.185 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.188 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:51:37.190 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.190 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:37.195 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.196 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.198 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.198 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.201 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.202 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:51:37.204 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:37.207 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.209 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.210 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.212 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:37.213 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.216 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.217 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.218 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.220 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:51:37.221 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.223 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.224 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.228 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:51:37.229 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:37.233 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.235 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:51:37.236 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.239 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.240 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:51:37.242 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:37.243 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.245 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.247 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:37.248 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:37.250 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.252 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.254 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.255 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.259 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.260 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.261 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.263 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:37.264 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:51:37.266 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.267 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:37.277 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.282 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.285 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:37.290 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.298 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:51:37.302 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.304 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:51:37.304 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.309 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.319 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.321 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.323 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.325 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:51:37.327 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 18ms reading results.
2025-01-02 19:51:37.329 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.331 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.335 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:37.336 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:37.339 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:37.340 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:37.341 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:37.342 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:37.343 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:37.345 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 206.9748ms
2025-01-02 19:51:37.345 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.348 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:51:37.351 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.353 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 259.9920 ms
2025-01-02 19:51:37.354 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:37.357 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:37.359 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.360 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.362 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:51:37.364 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:51:37.366 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.368 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 297.084ms
2025-01-02 19:51:37.370 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.376 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.378 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.379 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.382 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.404 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.408 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.410 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:37.412 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.414 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.416 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:37.418 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:37.419 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:37.420 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:37.421 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:37.423 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:37.425 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 564.1603ms
2025-01-02 19:51:37.427 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:51:37.427 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:37.431 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:51:37.432 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 623.9612 ms
2025-01-02 19:51:37.433 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:51:37.435 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:37.437 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:51:37.440 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.442 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:51:37.444 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:51:37.446 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:37.449 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 673.7605ms
2025-01-02 19:51:37.450 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:51:37.456 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:37.458 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:37.460 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:51:37.462 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:51:37.464 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:51:37.466 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:51:37.468 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:51:37.470 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:51:37.472 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:37.474 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:51:37.476 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:37.478 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:51:37.480 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:37.482 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:51:37.483 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:51:37.485 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:51:37.488 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:51:37.490 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:51:37.491 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:51:37.493 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.495 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.496 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.498 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.499 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.501 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:37.506 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:37.510 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.512 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:37.514 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.515 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.517 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.519 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.520 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.521 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.523 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.525 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.535 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.538 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.540 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:51:37.542 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.544 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.546 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.547 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.549 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.551 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.553 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.562 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.565 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.566 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.568 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.570 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.571 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.573 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.574 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.578 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.580 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.598 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.601 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.602 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.604 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:37.606 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.608 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.610 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.611 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.614 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.616 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.617 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.626 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.629 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:51:37.631 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.632 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:51:37.634 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.636 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.638 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:37.639 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:51:37.641 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:51:37.642 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:51:37.644 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.645 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.648 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.649 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.651 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:37.656 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:51:37.658 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.660 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.662 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.663 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.665 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.667 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.669 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.672 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:51:37.673 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.683 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:51:37.686 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.688 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.690 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.691 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.693 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.695 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.696 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.697 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.699 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.700 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.712 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:51:37.716 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.717 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.719 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.721 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.723 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.725 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.726 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.728 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.729 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.730 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.739 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:51:37.742 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.744 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.746 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.747 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:51:37.749 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.751 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.752 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:51:37.753 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:51:37.755 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:51:37.756 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.763 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:51:37.766 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:51:37.767 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:51:37.769 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.772 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:51:37.775 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:51:37.778 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:51:37.779 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:51:37.780 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:51:37.781 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:51:37.783 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:51:37.784 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 312.7498ms
2025-01-02 19:51:37.786 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:51:37.787 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 345.7095 ms
2025-01-02 19:51:37.790 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:51:37.792 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:51:37.793 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:51:37.795 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 368.7819ms
