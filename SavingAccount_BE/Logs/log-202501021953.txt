2025-01-02 19:52:59.998 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:53:00.006 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 359.0416ms
2025-01-02 19:53:00.047 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:00.051 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:00.054 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:00.057 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:00.059 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:00.062 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:00.065 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:00.067 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:00.069 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:00.071 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:00.074 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:00.317 +07:00 [INF] Executed DbCommand (243ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:00.321 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:00.322 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:00.323 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:00.325 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:00.326 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:00.331 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:00.333 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:00.334 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:53:00.335 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:00.336 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:02.342 +07:00 [INF] Executed DbCommand (2,006ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:02.346 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.347 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:02.349 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.351 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:02.361 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:02.364 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:02.365 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:02.366 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:02.367 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:02.368 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:02.370 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 3345.3197ms
2025-01-02 19:53:02.373 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:02.373 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:02.377 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 3416.6485 ms
2025-01-02 19:53:02.376 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:02.380 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:02.380 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:02.382 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.383 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:02.385 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:53:02.386 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:02.387 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 3447.4479ms
2025-01-02 19:53:02.388 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:02.394 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:02.396 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:02.397 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:02.399 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:02.401 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:02.402 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:02.423 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:02.446 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:02.448 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:02.450 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:02.452 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:02.454 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:02.456 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:02.458 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:02.462 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:02.464 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:02.466 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:02.469 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:02.472 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:02.473 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:02.474 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.476 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.479 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.481 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:02.484 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:02.486 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:02.496 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:02.499 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.500 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:02.502 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.505 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:02.507 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.509 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.512 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.515 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:02.517 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:02.519 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:02.533 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:02.536 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.539 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:02.541 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.543 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:02.545 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.547 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.549 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:02.552 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:02.554 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:02.565 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:02.568 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.571 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:02.573 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.576 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:02.578 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.580 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.582 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.583 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:02.585 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:02.588 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:02.713 +07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:02.717 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:02.721 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.723 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:53:02.727 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.729 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:02.732 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.735 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.739 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.742 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:02.745 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:02.748 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:02.776 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:02.781 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:02.784 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:02.787 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.790 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:53:02.793 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.796 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:02.799 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:02.801 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:02.803 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:02.805 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:02.808 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.810 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.814 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.816 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:02.819 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:02.820 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:02.827 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:02.830 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.832 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:02.834 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.836 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:02.839 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.841 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.843 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.844 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:02.846 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:02.848 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:02.888 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:02.891 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.893 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:02.896 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.898 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:02.900 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.903 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.904 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.906 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:02.909 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:02.911 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:02.920 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:02.923 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:02.926 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:02.928 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.931 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:02.933 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.935 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:02.938 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:02.940 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:02.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:02.944 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:03.068 +07:00 [INF] Executed DbCommand (124ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:03.075 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.083 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:53:03.086 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.089 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:03.096 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.108 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.116 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:03.123 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:03.128 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:03.164 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:03.169 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.184 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 15ms reading results.
2025-01-02 19:53:03.187 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.195 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (7ms).
2025-01-02 19:53:03.198 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:03.202 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:03.203 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:03.205 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:03.207 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:03.209 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:03.211 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 761.6012ms
2025-01-02 19:53:03.214 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:03.216 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 830.6862 ms
2025-01-02 19:53:03.219 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:03.221 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:03.226 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:03.228 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.230 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:03.231 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:53:03.233 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:03.235 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 863.0557ms
2025-01-02 19:53:03.237 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:03.244 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:03.246 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:03.253 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:03.256 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:03.259 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:03.264 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:03.269 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:03.272 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:03.277 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:03.279 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:03.282 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:03.284 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:03.286 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:03.289 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:03.291 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:03.293 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:03.295 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:03.296 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:03.299 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:03.302 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:03.303 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:03.304 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.306 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.308 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.311 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:03.313 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:03.398 +07:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:03.402 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.404 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:03.407 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.410 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.413 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.415 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.417 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.419 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.421 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:03.424 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:03.435 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:03.439 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.441 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:03.444 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.446 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.449 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.451 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.453 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.455 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:03.458 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:03.460 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:03.470 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:03.473 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.475 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:03.478 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.480 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.483 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.485 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.487 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.489 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:03.492 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:03.494 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:03.512 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:03.516 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:03.518 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.520 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:03.522 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.524 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.527 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.529 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.531 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.533 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.535 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:03.537 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:03.550 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:03.555 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:03.557 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:03.559 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.561 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:53:03.563 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.566 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.568 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:03.570 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:03.571 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:03.573 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:03.575 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.578 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.580 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.581 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.584 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:03.586 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:03.592 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:03.596 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.598 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:03.600 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.602 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.605 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.607 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.609 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.611 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.613 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:03.615 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:03.625 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:03.628 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.630 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:03.632 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.634 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.639 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.641 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.644 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.647 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:03.652 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:03.734 +07:00 [INF] Executed DbCommand (81ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:03.737 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.738 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:03.741 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.744 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:03.748 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.750 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.753 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.755 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.758 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:03.761 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:03.772 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:03.777 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.780 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:03.783 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.786 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.789 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.791 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.796 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.799 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:03.802 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:03.805 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:03.814 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:03.818 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.821 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:03.824 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.826 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:03.831 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:03.836 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:03.838 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:03.839 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:03.841 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:03.843 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:03.846 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 564.2595ms
2025-01-02 19:53:03.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:03.848 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:03.852 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:03.854 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 617.1637 ms
2025-01-02 19:53:03.855 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:03.861 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:03.859 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:03.865 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:03.867 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.868 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:03.870 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:53:03.871 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:03.873 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 654.114ms
2025-01-02 19:53:03.875 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:03.881 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:03.882 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:03.885 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:03.888 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:03.890 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:03.894 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:03.896 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:03.899 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:03.901 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:03.903 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:03.905 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:03.908 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:03.910 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:03.913 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:03.915 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:03.918 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:03.921 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:03.923 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:03.925 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.927 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.929 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.931 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:03.933 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:03.935 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:03.972 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:03.977 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:03.980 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:03.983 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.986 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:03.989 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.993 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:03.995 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:03.997 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:03.999 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:04.001 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:04.016 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:04.023 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.027 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:04.030 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.032 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:04.034 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.036 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.038 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.040 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:04.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:04.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:04.057 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:04.060 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.063 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:04.065 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.067 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:04.070 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.072 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.074 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.076 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:04.078 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:04.081 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:04.089 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:04.093 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:04.095 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.096 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:04.097 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.098 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (0ms).
2025-01-02 19:53:04.099 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.101 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.102 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.103 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:53:04.105 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:04.107 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:04.230 +07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:04.240 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:04.245 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:04.250 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.255 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 14ms reading results.
2025-01-02 19:53:04.261 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.266 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:53:04.274 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:04.278 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:04.286 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:04.295 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:04.309 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.313 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.324 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.326 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:04.337 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-02 19:53:04.340 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:04.364 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:04.370 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.373 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:04.377 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.380 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:04.383 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.386 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.390 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.395 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:04.402 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-02 19:53:04.424 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:04.444 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:04.448 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.451 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:04.453 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.456 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:04.458 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.461 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.463 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.465 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:04.467 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:04.470 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:04.481 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:04.484 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.487 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:04.489 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.492 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:04.495 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.497 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.499 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.501 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:04.504 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:04.506 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:04.519 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:04.523 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.525 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:04.528 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.530 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:04.533 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.535 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.538 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:04.540 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:04.542 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:04.544 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:04.554 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:04.559 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:04.561 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:04.563 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.565 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:04.568 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:04.571 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:04.572 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:04.573 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:04.574 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:04.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:04.578 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 679.2864ms
2025-01-02 19:53:04.580 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:04.582 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 716.9454 ms
2025-01-02 19:53:04.584 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:04.586 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:04.588 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:53:04.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 743.4513ms
2025-01-02 19:53:06.870 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:06.874 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:06.876 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:06.877 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:06.878 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:06.880 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:53:06.884 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:53:06.886 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:53:06.888 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:53:06.890 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:06.893 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:06.895 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:06.897 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:06.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:06.900 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:06.904 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:06.906 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:06.907 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:06.910 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:06.911 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:06.913 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:06.914 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:06.916 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:06.917 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:06.920 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:06.921 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:06.923 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:06.925 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:06.927 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:06.929 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:06.931 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:06.933 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:06.935 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:06.938 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:06.942 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:06.943 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:06.946 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:06.948 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:06.949 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:53:06.952 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:06.953 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:06.956 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:06.958 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:06.961 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:06.963 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:06.965 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:06.966 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:06.968 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:06.970 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:06.972 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:06.975 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:06.979 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:06.998 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.001 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:07.002 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.003 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:07.005 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:07.008 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.016 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:07.017 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:53:07.019 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-02 19:53:07.021 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.023 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.025 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:07.028 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.032 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.034 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.036 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.038 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.040 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:07.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:07.047 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:07.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:07.053 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:07.054 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:53:07.058 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.063 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:07.065 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.066 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:53:07.067 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:07.070 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.073 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.075 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:07.077 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.079 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.083 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:07.085 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.088 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.090 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:53:07.092 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.094 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:07.096 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.101 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:07.104 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:07.107 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:53:07.107 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:07.113 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.115 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:07.118 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.119 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:07.123 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.125 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.129 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:07.131 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.133 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:07.212 +07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:53:07.216 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:07.219 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:07.221 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.222 +07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:07.224 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:53:07.227 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.231 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.233 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:07.236 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:07.238 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.241 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:07.243 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:07.246 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:07.249 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.250 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:07.251 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.253 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:07.255 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.256 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:07.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:07.259 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:07.262 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:07.265 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 355.1036ms
2025-01-02 19:53:07.267 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:07.267 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:07.269 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:53:07.276 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:07.279 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 400.1419 ms
2025-01-02 19:53:07.280 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:07.282 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:07.283 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:07.285 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:07.289 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:07.290 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.291 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:07.294 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.296 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-02 19:53:07.306 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 436.8857ms
2025-01-02 19:53:07.300 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:53:07.298 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-02 19:53:07.325 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.329 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-02 19:53:07.330 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:07.333 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:53:07.337 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.338 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:53:07.340 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.342 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:07.344 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.347 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:07.349 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:07.351 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:07.353 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:07.355 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:07.357 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:07.360 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:07.365 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:07.367 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:07.370 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:07.370 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:07.372 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:07.375 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:07.377 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:07.379 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:07.381 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.383 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.385 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.387 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:53:07.389 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:07.392 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.396 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.398 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:53:07.404 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:07.405 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:07.409 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:07.410 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:07.411 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-02 19:53:07.413 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:07.414 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.416 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:07.417 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.419 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.421 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.423 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.424 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.426 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:53:07.429 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.431 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:07.433 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:53:07.437 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:07.442 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:07.442 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:07.446 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.449 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.451 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:07.453 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:07.455 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.457 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.458 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:07.461 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:07.464 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.466 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.468 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.470 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.472 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.474 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.476 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.477 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.479 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:07.481 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:07.483 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:53:07.485 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:07.497 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-02 19:53:07.500 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:07.500 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.504 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.506 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:07.508 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:07.511 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.513 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.515 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:07.517 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:07.520 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.522 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.524 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.526 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.528 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.531 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.533 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:07.534 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.536 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:07.538 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:07.540 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:53:07.542 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:07.553 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:07.553 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-02 19:53:07.556 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.560 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:07.562 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:07.564 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:07.566 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.569 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.571 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:07.573 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 13ms reading results.
2025-01-02 19:53:07.576 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.579 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.582 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.586 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.587 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:53:07.583 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:07.589 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.591 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:07.593 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:07.596 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:07.600 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:07.605 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:07.608 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:07.608 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:07.613 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.615 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:07.617 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:07.620 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 252.2329ms
2025-01-02 19:53:07.623 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.625 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-02 19:53:07.631 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:53:07.634 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 342.3013 ms
2025-01-02 19:53:07.636 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.638 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:07.639 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.641 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.644 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:53:07.646 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 381.8713ms
2025-01-02 19:53:07.650 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:07.655 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:07.721 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:07.726 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:07.728 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:07.730 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.732 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:07.734 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:07.737 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:07.739 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:07.748 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:07.749 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:07.753 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:07.761 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 800.4345ms
2025-01-02 19:53:07.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:07.765 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:07.778 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:07.779 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 865.3844 ms
2025-01-02 19:53:07.781 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:07.785 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:07.787 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:07.788 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.790 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:07.792 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:53:07.794 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:07.796 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 896.5625ms
2025-01-02 19:53:07.798 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:07.806 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:07.811 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:07.814 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:07.823 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:07.830 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:07.834 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:07.841 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:07.847 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:07.850 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:07.853 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:07.855 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:07.867 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:07.870 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.871 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.873 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:07.875 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:07.879 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:07.902 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:07.903 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:07.905 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.914 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:07.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:07.918 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:07.921 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:07.922 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:09.750 +07:00 [INF] Executed DbCommand (1,827ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:09.753 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:09.754 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:09.756 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:09.758 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:09.759 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:09.762 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:09.763 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:09.765 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:09.766 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:09.767 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:10.586 +07:00 [INF] Executed DbCommand (819ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:10.592 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:10.594 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:10.599 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.601 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:10.606 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.610 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:10.615 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:10.617 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:10.620 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:10.671 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:10.674 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:10.676 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:10.678 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.680 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:10.683 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.684 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.686 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:10.687 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:10.689 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:10.691 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:10.893 +07:00 [INF] Executed DbCommand (202ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:10.898 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:10.899 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:10.901 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:10.902 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.903 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:10.905 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.906 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:10.907 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:10.908 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:53:10.910 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:10.914 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:11.046 +07:00 [INF] Executed DbCommand (132ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:11.051 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:11.052 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:11.053 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:11.055 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:11.056 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.057 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:11.059 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:11.060 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:11.064 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:11.064 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:11.066 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.067 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.069 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:11.070 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:11.071 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:11.082 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:11.113 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:11.117 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:11.119 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:11.121 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.123 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:11.125 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.127 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.129 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:11.130 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:11.132 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:11.134 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:11.170 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:11.174 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:11.175 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:11.177 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.180 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:11.182 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.183 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.185 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:11.186 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:11.188 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:11.190 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:11.311 +07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:11.330 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:11.333 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:11.337 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.347 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-02 19:53:11.353 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.356 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:11.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:11.361 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:11.363 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:11.368 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:22.829 +07:00 [DBG] Connection id "0HN9B5C6JUDHG" received FIN.
2025-01-02 19:53:22.831 +07:00 [DBG] Connection id "0HN9B5C6JUDHG" is closed. The last processed stream ID was 23.
2025-01-02 19:53:22.835 +07:00 [DBG] Connection id "0HN9B5C6JUDHG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-01-02 19:53:28.645 +07:00 [INF] Executed DbCommand (17,277ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:28.649 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:28.651 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:28.653 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:28.655 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:28.658 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:28.660 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:28.662 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:28.664 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:28.666 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:28.668 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:33.688 +07:00 [INF] Executed DbCommand (5,020ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:33.692 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:33.693 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:33.694 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:33.696 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:33.698 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:33.703 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:33.704 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:33.705 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:33.706 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:33.709 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:33.713 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 25862.817ms
2025-01-02 19:53:33.716 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:33.717 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 25927.3003 ms
2025-01-02 19:53:33.719 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:33.720 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:33.722 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:53:33.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 499 null application/json; charset=utf-8 25960.5454ms
2025-01-02 19:53:33.728 +07:00 [DBG] The connection queue processing loop for 0HN9B5C6JUDHG completed.
2025-01-02 19:53:33.731 +07:00 [DBG] Connection id "0HN9B5C6JUDHG" stopped.
2025-01-02 19:53:35.216 +07:00 [DBG] Connection id "0HN9B5C6JUDHH" accepted.
2025-01-02 19:53:35.220 +07:00 [DBG] Connection id "0HN9B5C6JUDHH" started.
2025-01-02 19:53:35.238 +07:00 [DBG] Connection 0HN9B5C6JUDHH established using the following protocol: "Tls13"
2025-01-02 19:53:35.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:35.259 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:35.261 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:35.272 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:35.273 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:35.275 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:35.278 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:35.281 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:35.284 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:35.286 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:35.289 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:35.291 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:35.294 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:35.298 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:35.301 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:35.303 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:35.306 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:35.308 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:35.311 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:35.314 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:35.316 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:35.318 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:35.320 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:35.322 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:35.326 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:35.327 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:35.329 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.331 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.334 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:35.335 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:35.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:35.340 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:35.369 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:35.373 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:35.376 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:35.379 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.382 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:35.385 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.387 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.389 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:35.391 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:35.393 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:35.396 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:35.423 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:35.427 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:35.429 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:35.432 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.434 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:35.437 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.439 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.442 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:35.444 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:35.446 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:35.450 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:35.539 +07:00 [INF] Executed DbCommand (89ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:35.544 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:35.547 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:35.550 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.552 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:35.555 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.558 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.560 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:35.562 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:35.564 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:35.566 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:35.716 +07:00 [INF] Executed DbCommand (150ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:35.723 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:35.727 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:35.731 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:53:35.735 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.739 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:35.744 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.748 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:35.760 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:35.762 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:35.766 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:53:35.776 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:39.720 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:39.726 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:39.728 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:39.730 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:39.731 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:39.733 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:53:39.735 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:53:39.738 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:53:39.739 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:53:39.741 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:39.745 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:39.748 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:39.767 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:39.771 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:39.774 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:39.777 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:39.780 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:39.782 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:39.785 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:39.787 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:39.790 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:39.792 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:39.794 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:39.798 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:39.801 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:39.802 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:39.804 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:39.806 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:39.808 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:39.810 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:39.813 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:39.815 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.128 +07:00 [INF] Executed DbCommand (4,352ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:40.133 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.135 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.138 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.141 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:53:40.142 +07:00 [INF] Executed DbCommand (327ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.144 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.146 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.150 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:40.149 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:40.152 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.155 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:40.156 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:40.158 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:40.160 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.162 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:40.163 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.165 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:40.166 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.169 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.170 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:40.172 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.174 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:40.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.177 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.179 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:40.184 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:40.186 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:40.208 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:40.210 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.212 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:40.214 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.216 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:40.218 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.220 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.221 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.223 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:40.227 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:40.229 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.257 +07:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.272 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.275 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:40.278 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.283 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:40.292 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.298 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.315 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2025-01-02 19:53:40.330 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-01-02 19:53:40.333 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:40.333 +07:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.345 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.348 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:40.351 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.360 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-02 19:53:40.366 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.369 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.374 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:40.377 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:40.379 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:40.381 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:40.385 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.390 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.393 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.395 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-02 19:53:40.398 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.401 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:40.401 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:40.412 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.415 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.417 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.427 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:53:40.436 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.438 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.441 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:40.447 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (9ms).
2025-01-02 19:53:40.454 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-02 19:53:40.458 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.460 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:53:40.462 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.467 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.476 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:40.496 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2025-01-02 19:53:40.517 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:40.527 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:53:40.532 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.535 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:40.538 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.541 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:40.545 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.550 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.553 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.554 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:40.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:40.559 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:40.560 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:40.573 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.576 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:40.578 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.580 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:40.592 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.596 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.600 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.601 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:40.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:40.612 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.614 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-01-02 19:53:40.616 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.618 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:40.620 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:53:40.627 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.629 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:40.633 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.635 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.637 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.637 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:40.639 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:40.642 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.644 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:53:40.646 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:40.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:53:40.650 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.655 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:40.657 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:40.659 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:40.660 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:40.661 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:53:40.662 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:40.665 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.666 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:40.668 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:40.669 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:40.671 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.673 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 5369.9537ms
2025-01-02 19:53:40.676 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:40.676 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:40.689 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:40.693 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:40.695 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.696 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 5422.7812 ms
2025-01-02 19:53:40.697 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:40.699 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.702 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:40.703 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:40.705 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.706 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.707 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:40.708 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:40.710 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-02 19:53:40.711 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:40.713 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:40.715 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 5473.0376ms
2025-01-02 19:53:40.716 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:40.718 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:53:40.725 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:40.729 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:40.730 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:40.732 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:40.733 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:53:40.735 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:40.738 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.740 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:40.742 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.744 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:40.746 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.748 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:40.750 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:40.753 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:40.755 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.757 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:40.759 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 20ms reading results.
2025-01-02 19:53:40.761 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:40.765 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.767 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:40.769 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:40.772 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:40.775 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:40.778 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:40.782 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:40.784 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:40.785 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:40.787 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:40.788 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:40.790 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:40.791 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:40.794 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:40.796 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:40.798 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-02 19:53:40.802 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:40.800 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 1023.1779ms
2025-01-02 19:53:40.803 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.807 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:40.810 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:53:40.812 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.817 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.815 +07:00 [INF] HTTP GET /api/user/History responded 200 in 1083.7198 ms
2025-01-02 19:53:40.813 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:40.820 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:40.822 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:40.824 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:40.826 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:40.828 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.830 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:40.832 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:40.834 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-01-02 19:53:40.836 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-02 19:53:40.842 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 1122.2615ms
2025-01-02 19:53:40.844 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-02 19:53:40.853 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:53:40.855 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:53:40.856 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:40.857 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:40.860 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.864 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:40.866 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:53:40.870 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:40.872 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.875 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:40.877 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:53:40.881 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:40.884 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.886 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:40.888 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.892 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:40.894 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.896 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:40.898 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:40.900 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:40.902 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:40.904 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:40.906 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.907 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:40.912 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:40.916 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:40.918 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:40.921 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:40.924 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.924 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:40.927 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.929 +07:00 [DBG] Created DbConnection. (4ms).
2025-01-02 19:53:40.931 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:40.932 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.934 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.936 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.938 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:40.940 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.942 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.943 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:40.945 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.947 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:40.949 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.953 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:40.959 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-02 19:53:40.961 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:40.961 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:40.964 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:40.969 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:40.971 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.973 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:40.975 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.977 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:40.979 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:40.980 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:40.982 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:40.984 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:41.025 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:41.030 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:41.032 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:41.034 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:41.036 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:41.039 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:41.041 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:41.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:41.047 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:41.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:41.050 +07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:41.052 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:41.058 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:41.067 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-02 19:53:41.070 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:41.072 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:41.076 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:41.078 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:41.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:41.083 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:41.085 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:41.088 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:43.947 +07:00 [INF] Executed DbCommand (2,895ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:43.951 +07:00 [INF] Executed DbCommand (2,863ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:43.955 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:43.952 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:43.958 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:43.956 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:43.960 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:43.963 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 11ms reading results.
2025-01-02 19:53:43.965 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:43.961 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-02 19:53:43.966 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:43.968 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:43.978 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:43.999 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (31ms).
2025-01-02 19:53:44.002 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.008 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.019 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.021 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:44.030 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.035 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:53:44.037 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-02 19:53:44.046 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:53:44.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2025-01-02 19:53:44.058 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:44.092 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-02 19:53:44.096 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.099 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:44.109 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:44.110 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.113 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.116 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:53:44.121 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.139 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.140 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.142 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.152 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 38ms reading results.
2025-01-02 19:53:44.154 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.156 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.158 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:44.160 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:44.162 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:44.165 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:44.167 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:44.168 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:44.173 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:44.175 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:44.177 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.179 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.180 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.182 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.183 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:44.185 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:44.189 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:44.189 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-02 19:53:44.192 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.195 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.197 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:44.199 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.202 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.203 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-02 19:53:44.205 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:44.208 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.210 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.213 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:44.214 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.217 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.218 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.220 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.222 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.223 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.225 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:44.227 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.229 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:44.231 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:44.236 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:53:44.242 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:44.246 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.248 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:44.248 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-02 19:53:44.250 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.254 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.256 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-02 19:53:44.258 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:44.261 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.266 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.267 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.269 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:44.271 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.275 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.276 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:44.278 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.280 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-02 19:53:44.282 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.284 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:44.285 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.290 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:44.292 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:53:44.297 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:44.300 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.303 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:44.305 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.307 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:44.308 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-02 19:53:44.310 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.313 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.315 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.317 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.319 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.321 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.325 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.326 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:44.328 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.330 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:44.332 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 19ms reading results.
2025-01-02 19:53:44.337 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.340 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:44.343 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:44.348 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:44.349 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:44.350 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:44.352 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:44.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:44.357 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 3464.6861ms
2025-01-02 19:53:44.359 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-02 19:53:44.361 +07:00 [INF] HTTP GET /api/user/History responded 200 in 3530.7647 ms
2025-01-02 19:53:44.364 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:44.367 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.369 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:53:44.373 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 3571.2121ms
2025-01-02 19:53:44.374 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:44.382 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.384 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:44.387 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.389 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:44.391 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.393 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.395 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.397 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.399 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.401 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:44.412 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:44.415 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.418 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:44.420 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.422 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:44.425 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:44.429 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:44.430 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:44.431 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:44.432 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:44.434 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:44.436 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 3683.7196ms
2025-01-02 19:53:44.438 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:44.438 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:44.442 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:44.443 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 3736.3145 ms
2025-01-02 19:53:44.445 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:44.447 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:44.448 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:44.450 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.451 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:44.453 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:53:44.455 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:44.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 3780.9409ms
2025-01-02 19:53:44.458 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:44.464 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:44.466 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:44.467 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:44.470 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:44.472 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:44.474 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:44.477 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:44.479 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:44.481 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:44.483 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:44.485 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:44.488 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:44.490 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:44.492 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:44.494 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:44.496 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:44.499 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:44.502 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:44.503 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:44.505 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.506 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.508 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.510 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.513 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:44.519 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:44.522 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.524 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:44.526 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.528 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:44.531 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.534 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.537 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.539 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.541 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.543 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:44.557 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:44.561 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.563 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:44.566 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.568 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:44.570 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.572 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.574 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.578 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.582 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:44.597 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:44.600 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.602 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:44.605 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.607 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:44.609 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.611 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.613 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.615 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.617 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.619 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:44.633 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:44.637 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.639 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.641 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:44.643 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.646 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:44.649 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.651 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.653 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.654 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.656 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.658 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:44.669 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:44.673 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.675 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:44.678 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.680 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-02 19:53:44.683 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.685 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:44.688 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:44.689 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:44.691 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:44.692 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:44.694 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.696 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.698 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.699 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.701 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:44.702 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:44.795 +07:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:44.799 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:44.801 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:44.803 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.806 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:44.809 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.813 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:44.816 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:44.818 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:44.821 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:44.823 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:46.048 +07:00 [INF] Executed DbCommand (1,225ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:46.053 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.055 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:46.057 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.059 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:46.062 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.064 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.065 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.067 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:46.069 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:46.070 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:46.185 +07:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:46.251 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.253 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:46.256 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.259 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:46.263 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.265 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.268 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.269 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:46.272 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:46.274 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:46.484 +07:00 [INF] Executed DbCommand (210ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:46.496 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.500 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:46.506 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.512 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-02 19:53:46.518 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.522 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.525 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.527 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:46.530 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:46.533 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:46.577 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:46.581 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.583 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:46.586 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.588 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:46.591 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:46.595 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:46.596 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:46.598 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:46.599 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:46.602 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:46.604 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 2122.8315ms
2025-01-02 19:53:46.607 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:46.607 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:46.611 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:46.612 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 2161.4558 ms
2025-01-02 19:53:46.614 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:46.617 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:46.619 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:46.620 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.622 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:46.623 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:53:46.625 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:46.627 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 2189.2069ms
2025-01-02 19:53:46.628 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-02 19:53:46.636 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:46.637 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:46.639 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:46.641 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:46.644 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:46.646 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:46.649 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:46.651 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:46.653 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:46.656 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:46.657 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:46.659 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:46.661 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:46.663 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:46.665 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:46.667 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:46.670 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:46.673 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:46.674 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:46.676 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.678 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.681 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.682 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:46.684 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:46.686 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:46.711 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:46.719 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.723 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-02 19:53:46.726 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.731 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-02 19:53:46.734 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.738 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.740 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.742 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:46.745 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:46.749 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:46.760 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:46.764 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.766 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:46.769 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.771 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:46.775 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.777 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.779 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.780 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:46.783 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:46.785 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:46.794 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:46.798 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.800 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:46.803 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.805 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:46.808 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.810 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.812 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.814 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:46.817 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:46.819 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:46.828 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:46.833 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'SavingAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:46.835 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.839 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:46.842 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.844 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:46.849 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.851 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.853 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.855 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:46.856 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:46.858 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:46.879 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:46.883 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:46.884 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'History' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:46.886 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.888 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-02 19:53:46.891 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.893 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:46.895 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:46.897 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-02 19:53:46.899 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-02 19:53:46.901 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-02 19:53:46.903 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.905 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.907 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.909 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:46.912 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:46.913 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:46.925 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-02 19:53:46.930 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.932 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-02 19:53:46.934 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.935 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:46.937 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.938 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.939 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.940 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-02 19:53:46.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:46.943 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:46.962 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-02 19:53:46.967 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:46.969 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:46.972 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.974 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:46.978 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.980 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:46.983 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:46.984 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:46.988 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-02 19:53:46.991 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:47.007 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdSavingAccount]
FROM [UserSavingAccount] AS [u]
WHERE [u].[IdUser] IN (
    SELECT [u0].[value]
    FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
)
2025-01-02 19:53:47.011 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:47.013 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:47.016 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.019 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:47.023 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.026 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:47.032 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:47.036 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-02 19:53:47.039 +07:00 [DBG] Executing DbCommand [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:47.050 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__listSavingAccountIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [l].[value]
    FROM OPENJSON(@__listSavingAccountIds_0) WITH ([value] nvarchar(450) '$') AS [l]
)
2025-01-02 19:53:47.054 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:47.057 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:47.060 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.064 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-02 19:53:47.068 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.070 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.073 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:47.075 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-02 19:53:47.078 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:47.081 +07:00 [DBG] Executing DbCommand [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:47.094 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__savingAccount_IdSavingAccount_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [SavingAccountHistory] AS [s]
INNER JOIN [History] AS [h] ON [s].[IdHistory] = [h].[IdHistory]
WHERE [s].[IdSavingAccount] = @__savingAccount_IdSavingAccount_0
2025-01-02 19:53:47.098 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:47.100 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-02 19:53:47.103 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.105 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:47.108 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:47.112 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:47.114 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:47.116 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:47.118 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:47.120 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-02 19:53:47.123 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 469.579ms
2025-01-02 19:53:47.126 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-02 19:53:47.131 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 509.8117 ms
2025-01-02 19:53:47.137 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:47.139 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:47.141 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-02 19:53:47.143 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 536.5527ms
2025-01-02 19:53:52.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:52.593 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:52.595 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:52.596 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:52.599 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:52.602 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Profile'
2025-01-02 19:53:52.603 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)' with route pattern 'api/user/Profile' is valid for the request path '/api/user/Profile'
2025-01-02 19:53:52.606 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:53:52.608 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:53:52.609 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:52.612 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:52.615 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:52.617 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:52.620 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:52.623 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:52.625 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:52.627 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:52.630 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:52.632 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:52.634 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:52.636 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:52.638 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:52.639 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:52.642 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:52.645 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:52.646 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:52.648 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.650 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.652 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:52.653 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:52.655 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-02 19:53:52.657 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:53:52.705 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:53:52.710 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:52.712 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:52.714 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:52.717 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.719 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-02 19:53:52.722 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:52.726 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:52.728 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:52.730 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:52.731 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:52.734 +07:00 [INF] Executing OkObjectResult, writing value of type 'SavingAccount_BE.Data.ApplicationUser'.
2025-01-02 19:53:52.736 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE) in 110.6433ms
2025-01-02 19:53:52.738 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - null null
2025-01-02 19:53:52.739 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:53:52.743 +07:00 [DBG] The request path  does not match the path filter
2025-01-02 19:53:52.745 +07:00 [INF] HTTP GET /api/user/Profile responded 200 in 146.1750 ms
2025-01-02 19:53:52.747 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-02 19:53:52.749 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:52.751 +07:00 [INF] CORS policy execution successful.
2025-01-02 19:53:52.753 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.754 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-02 19:53:52.756 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-02 19:53:52.757 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Profile'
2025-01-02 19:53:52.760 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 174.5229ms
2025-01-02 19:53:52.762 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)' with route pattern 'api/user/Profile' is valid for the request path '/api/user/Profile'
2025-01-02 19:53:52.769 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:53:52.771 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:53:52.773 +07:00 [INF] Route matched with {action = "GetProfile", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProfile(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-02 19:53:52.775 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-02 19:53:52.778 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-02 19:53:52.780 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-02 19:53:52.784 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-02 19:53:52.787 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-02 19:53:52.790 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:52.792 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-02 19:53:52.794 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:52.797 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-02 19:53:52.799 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:52.801 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-02 19:53:52.803 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-02 19:53:52.805 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-02 19:53:52.809 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-02 19:53:52.812 +07:00 [DBG] Creating DbConnection.
2025-01-02 19:53:52.814 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-02 19:53:52.815 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.818 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.820 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-02 19:53:52.821 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-02 19:53:52.824 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-02 19:53:52.826 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:53:52.837 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-01-02 19:53:52.840 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-02 19:53:52.843 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-02 19:53:52.845 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-02 19:53:52.847 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.849 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-02 19:53:52.851 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-02 19:53:52.854 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-02 19:53:52.855 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-02 19:53:52.856 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-02 19:53:52.858 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-02 19:53:52.859 +07:00 [INF] Executing OkObjectResult, writing value of type 'SavingAccount_BE.Data.ApplicationUser'.
2025-01-02 19:53:52.862 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE) in 72.2042ms
2025-01-02 19:53:52.864 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetProfile (SavingAccount_BE)'
2025-01-02 19:53:52.865 +07:00 [INF] HTTP GET /api/user/Profile responded 200 in 111.3460 ms
2025-01-02 19:53:52.868 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-02 19:53:52.870 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-02 19:53:52.872 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-02 19:53:52.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Profile?userId=c3756588-ae27-4eba-a403-082235abef6f - 200 null application/json; charset=utf-8 136.461ms
