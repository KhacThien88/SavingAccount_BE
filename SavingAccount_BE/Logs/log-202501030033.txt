2025-01-03 00:33:09.362 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/Account/SignUp - null null
2025-01-03 00:33:09.419 +07:00 [DBG] OPTIONS requests are not supported
2025-01-03 00:33:09.436 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:09.440 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:09.441 +07:00 [DBG] The request is a preflight request.
2025-01-03 00:33:09.444 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/Account/SignUp - 204 null null 82.3642ms
2025-01-03 00:33:09.448 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/Account/SignUp - application/json 211
2025-01-03 00:33:09.475 +07:00 [DBG] POST requests are not supported
2025-01-03 00:33:09.476 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:09.479 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:09.481 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:09.483 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Account/SignUp'
2025-01-03 00:33:09.487 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.AccountController.SignUp (SavingAccount_BE)' with route pattern 'api/Account/SignUp' is valid for the request path '/api/Account/SignUp'
2025-01-03 00:33:09.490 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.AccountController.SignUp (SavingAccount_BE)'
2025-01-03 00:33:09.492 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.AccountController.SignUp (SavingAccount_BE)'
2025-01-03 00:33:09.502 +07:00 [INF] Route matched with {action = "SignUp", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUp(SavingAccount_BE.Model.SignUpModel) on controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE).
2025-01-03 00:33:09.505 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:09.508 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:09.511 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:09.514 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:09.517 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:09.520 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE)
2025-01-03 00:33:09.523 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE)
2025-01-03 00:33:09.526 +07:00 [DBG] Attempting to bind parameter 'signUpModel' of type 'SavingAccount_BE.Model.SignUpModel' ...
2025-01-03 00:33:09.528 +07:00 [DBG] Attempting to bind parameter 'signUpModel' of type 'SavingAccount_BE.Model.SignUpModel' using the name '' in request data ...
2025-01-03 00:33:09.531 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:33:09.536 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000035": started reading request body.
2025-01-03 00:33:09.538 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000035": done reading request body.
2025-01-03 00:33:09.550 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.SignUpModel'
2025-01-03 00:33:09.556 +07:00 [DBG] Done attempting to bind parameter 'signUpModel' of type 'SavingAccount_BE.Model.SignUpModel'.
2025-01-03 00:33:09.559 +07:00 [DBG] Done attempting to bind parameter 'signUpModel' of type 'SavingAccount_BE.Model.SignUpModel'.
2025-01-03 00:33:09.561 +07:00 [DBG] Attempting to validate the bound parameter 'signUpModel' of type 'SavingAccount_BE.Model.SignUpModel' ...
2025-01-03 00:33:09.566 +07:00 [DBG] Done attempting to validate the bound parameter 'signUpModel' of type 'SavingAccount_BE.Model.SignUpModel'.
2025-01-03 00:33:09.768 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:09.771 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:09.776 +07:00 [DBG] Created DbConnection. (5ms).
2025-01-03 00:33:09.778 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.780 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.782 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:09.783 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:09.785 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:09.787 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-03 00:33:09.817 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-03 00:33:09.821 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:09.825 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:09.827 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.829 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:09.846 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:09.853 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:09.855 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:09.879 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:09.899 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.902 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.908 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:09.910 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:09.913 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:09.915 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (Size = 256), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Address], [Base64Image], [BirthDate], [City], [ConcurrencyStamp], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [Nation], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Province], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-01-03 00:33:09.938 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (Size = 256), @p14='?' (Size = 256), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Address], [Base64Image], [BirthDate], [City], [ConcurrencyStamp], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [Nation], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [Province], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-01-03 00:33:09.946 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:09.948 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:09.952 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.954 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:09.959 +07:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SavingAccountDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:09.962 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 1 entities written to the database.
2025-01-03 00:33:09.972 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2025-01-03 00:33:09.979 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        SavingAccount_BE.Data.SavingAccountDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-03 00:33:09.982 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.983 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:09.985 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:09.986 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:09.988 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:09.991 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-03 00:33:10.000 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-03 00:33:10.004 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.008 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:10.009 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:33:10.011 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.013 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:10.030 +07:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2025-01-03 00:33:10.040 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        SavingAccount_BE.Data.SavingAccountDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-01-03 00:33:10.047 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.049 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.051 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:10.052 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:10.054 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:10.056 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-03 00:33:10.065 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-01-03 00:33:10.068 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:10.070 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:10.071 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.073 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:10.080 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.082 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.084 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:10.085 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:10.087 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:10.088 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-03 00:33:10.093 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-01-03 00:33:10.096 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:10.098 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:10.100 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.102 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:10.117 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.120 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.122 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.124 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:10.126 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:10.128 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:10.129 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-03 00:33:10.134 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-03 00:33:10.137 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:10.139 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:10.141 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.143 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:10.150 +07:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SavingAccountDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.152 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:10.154 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:10.159 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:10.182 +07:00 [DBG] Executing 2 update commands as a batch.
2025-01-03 00:33:10.187 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.190 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.193 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-03 00:33:10.196 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-03 00:33:10.198 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:10.199 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:10.201 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:10.203 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p23='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p24='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [Address] = @p3, [Base64Image] = @p4, [BirthDate] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [Email] = @p8, [EmailConfirmed] = @p9, [FullName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [Nation] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [Province] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2025-01-03 00:33:10.222 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p23='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p24='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [Address] = @p3, [Base64Image] = @p4, [BirthDate] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [Email] = @p8, [EmailConfirmed] = @p9, [FullName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [Nation] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [Province] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2025-01-03 00:33:10.230 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:10.233 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-03 00:33:10.238 +07:00 [DBG] Committing transaction.
2025-01-03 00:33:10.242 +07:00 [DBG] Committed transaction.
2025-01-03 00:33:10.248 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.250 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:10.253 +07:00 [DBG] Disposing transaction.
2025-01-03 00:33:10.254 +07:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'SavingAccountDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.257 +07:00 [DBG] An entity of type 'ApplicationUser' tracked by 'SavingAccountDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.259 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 2 entities written to the database.
2025-01-03 00:33:10.266 +07:00 [DBG] The navigation 'User.ApplicationUser' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.268 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.270 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:10.272 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:10.274 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:10.277 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.278 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.280 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:10.281 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:10.283 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:10.285 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([IdUser], [UserIdUser])
VALUES (@p0, @p1);
2025-01-03 00:33:10.296 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([IdUser], [UserIdUser])
VALUES (@p0, @p1);
2025-01-03 00:33:10.299 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:10.301 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:10.304 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.305 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:10.308 +07:00 [DBG] An entity of type 'User' tracked by 'SavingAccountDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:10.310 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 1 entities written to the database.
2025-01-03 00:33:10.312 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:10.315 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:10.316 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:10.317 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:10.318 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:10.320 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-03 00:33:10.325 +07:00 [INF] Executed action SavingAccount_BE.Controllers.AccountController.SignUp (SavingAccount_BE) in 804.9809ms
2025-01-03 00:33:10.327 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.AccountController.SignUp (SavingAccount_BE)'
2025-01-03 00:33:10.329 +07:00 [INF] HTTP POST /api/Account/SignUp responded 200 in 847.8987 ms
2025-01-03 00:33:10.331 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:10.333 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:10.335 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:33:10.337 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/Account/SignUp - 200 null application/json; charset=utf-8 889.3907ms
2025-01-03 00:33:23.120 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/Account/SignIn - null null
2025-01-03 00:33:23.133 +07:00 [DBG] OPTIONS requests are not supported
2025-01-03 00:33:23.136 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:23.154 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:23.155 +07:00 [DBG] The request is a preflight request.
2025-01-03 00:33:23.159 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/Account/SignIn - 204 null null 38.0374ms
2025-01-03 00:33:23.163 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/Account/SignIn - application/json 53
2025-01-03 00:33:23.177 +07:00 [DBG] POST requests are not supported
2025-01-03 00:33:23.180 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:23.182 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:23.183 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:23.187 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Account/SignIn'
2025-01-03 00:33:23.189 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)' with route pattern 'api/Account/SignIn' is valid for the request path '/api/Account/SignIn'
2025-01-03 00:33:23.194 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)'
2025-01-03 00:33:23.199 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)'
2025-01-03 00:33:23.203 +07:00 [INF] Route matched with {action = "SignIn", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(SavingAccount_BE.Model.SignInModel) on controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE).
2025-01-03 00:33:23.209 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:23.213 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:23.219 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:23.226 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:23.231 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:23.237 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE)
2025-01-03 00:33:23.242 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.AccountController (SavingAccount_BE)
2025-01-03 00:33:23.245 +07:00 [DBG] Attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel' ...
2025-01-03 00:33:23.249 +07:00 [DBG] Attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel' using the name '' in request data ...
2025-01-03 00:33:23.252 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:33:23.257 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000039": started reading request body.
2025-01-03 00:33:23.260 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000039": done reading request body.
2025-01-03 00:33:23.262 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.SignInModel'
2025-01-03 00:33:23.265 +07:00 [DBG] Done attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel'.
2025-01-03 00:33:23.267 +07:00 [DBG] Done attempting to bind parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel'.
2025-01-03 00:33:23.269 +07:00 [DBG] Attempting to validate the bound parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel' ...
2025-01-03 00:33:23.271 +07:00 [DBG] Done attempting to validate the bound parameter 'signInModel' of type 'SavingAccount_BE.Model.SignInModel'.
2025-01-03 00:33:23.274 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:23.283 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:23.285 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:23.287 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.293 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.299 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:23.301 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:23.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:23.306 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-03 00:33:23.318 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-01-03 00:33:23.326 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:23.330 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:23.334 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-03 00:33:23.339 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.343 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:23.500 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.503 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.507 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:23.509 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:23.512 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:23.520 +07:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-01-03 00:33:23.529 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-01-03 00:33:23.540 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:23.544 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:23.554 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.557 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:23.565 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.569 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.573 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:23.575 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:23.578 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:23.581 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-03 00:33:23.590 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-03 00:33:23.597 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:23.601 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:23.605 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.612 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-03 00:33:23.619 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.623 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.628 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:23.633 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:23.638 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:23.643 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-03 00:33:23.660 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-01-03 00:33:23.670 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:33:23.673 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:23.678 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-03 00:33:23.681 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.687 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:23.692 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.695 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.697 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:23.699 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:23.702 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:23.705 +07:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-01-03 00:33:23.716 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-01-03 00:33:23.754 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:23.757 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:23.765 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.768 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:23.777 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-01-03 00:33:23.780 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.782 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.786 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:23.788 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:23.790 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:23.792 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-03 00:33:23.801 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[Address], [a].[Base64Image], [a].[BirthDate], [a].[City], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nation], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Province], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-01-03 00:33:23.804 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:23.813 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-03 00:33:23.814 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.816 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:23.818 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.820 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.827 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:23.829 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:23.831 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:23.832 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-03 00:33:23.839 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-01-03 00:33:23.850 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:23.854 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:23.858 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.861 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:23.864 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:23.868 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:23.869 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:23.870 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:23.871 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:33:23.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-01-03 00:33:23.875 +07:00 [INF] Executed action SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE) in 637.9297ms
2025-01-03 00:33:23.877 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.AccountController.SignIn (SavingAccount_BE)'
2025-01-03 00:33:23.878 +07:00 [INF] HTTP POST /api/Account/SignIn responded 200 in 695.0200 ms
2025-01-03 00:33:23.881 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:23.883 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:23.885 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:33:23.887 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/Account/SignIn - 200 null text/plain; charset=utf-8 725.1623ms
2025-01-03 00:33:23.971 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:23.977 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:23.979 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:23.981 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:23.983 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:23.985 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:23.986 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:23.988 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:23.992 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:23.993 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:23.998 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:24.001 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:24.003 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:24.006 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:24.009 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:24.011 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:24.013 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:24.016 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:24.018 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:24.021 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:24.023 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:24.025 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:24.027 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:24.030 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:24.033 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:24.034 +07:00 [DBG] Created DbConnection. (0ms).
2025-01-03 00:33:24.035 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.037 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.040 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:24.041 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:24.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:24.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:24.051 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:24.055 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:24.058 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:24.060 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.062 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:24.064 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.066 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.068 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:24.069 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:24.071 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:24.074 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:24.082 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:24.085 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:24.087 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:24.089 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.091 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:24.094 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.095 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.097 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:24.099 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:24.101 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:24.103 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:24.114 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:24.118 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:24.119 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:24.122 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.123 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:24.126 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:24.129 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:24.130 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:24.131 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:24.132 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:24.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:24.137 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 125.5775ms
2025-01-03 00:33:24.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:24.139 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:24.143 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:24.144 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 161.3843 ms
2025-01-03 00:33:24.146 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:24.149 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:24.150 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:24.151 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.152 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:24.154 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:33:24.155 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:24.157 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 186.5888ms
2025-01-03 00:33:24.158 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:24.167 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:24.168 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:24.170 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:24.173 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:24.175 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:24.177 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:24.179 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:24.181 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:24.184 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:24.186 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:24.188 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:24.190 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:24.192 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:24.194 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:24.195 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:24.197 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:24.199 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:24.202 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:24.204 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:24.205 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.208 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.209 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:24.211 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:24.212 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:24.214 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:24.217 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:24.221 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:24.223 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:24.225 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.227 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:24.230 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.232 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.234 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:24.236 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:24.238 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:24.240 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:24.243 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:24.246 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:24.248 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:24.250 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.251 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:24.254 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.256 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.258 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:24.259 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:24.261 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:24.262 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:24.265 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:24.268 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:24.270 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:24.272 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.274 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:24.276 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:24.280 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:24.281 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:24.282 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:24.283 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:24.285 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:24.287 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 102.9611ms
2025-01-03 00:33:24.289 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:24.291 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 138.7161 ms
2025-01-03 00:33:24.293 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:24.295 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:24.297 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:33:24.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 160.2996ms
2025-01-03 00:33:27.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:27.112 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:27.116 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:27.120 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:27.121 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:27.136 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-03 00:33:27.142 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-03 00:33:27.149 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:27.152 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:27.155 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:27.160 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:27.166 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:27.169 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:27.172 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:27.175 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:27.177 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:27.180 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:27.182 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:27.184 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:27.187 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:27.189 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:27.191 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:27.193 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:27.196 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:27.199 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:27.201 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:27.202 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.204 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.206 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.208 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:27.209 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.211 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.218 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.222 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.224 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:27.227 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.229 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.232 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.234 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.236 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.237 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:27.239 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.243 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.253 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.257 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.263 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:33:27.272 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.275 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:27.283 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.287 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.289 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.293 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.297 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:27.301 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.322 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.328 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.333 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:33:27.338 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.341 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.346 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.351 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.355 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.357 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:27.362 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:27.365 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:27.379 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:27.388 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.391 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:27.394 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.397 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:27.401 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.404 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.406 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:27.413 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:27.416 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.432 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.438 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.442 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:27.445 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.447 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.453 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.457 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.460 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.462 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:27.464 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:27.467 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:27.481 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:27.486 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.488 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:27.490 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.492 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.497 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.501 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.504 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.507 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:27.508 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.510 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:27.523 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:27.530 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.533 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:27.536 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.538 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.542 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:27.547 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:27.550 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:27.553 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:27.554 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:27.556 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:27.561 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 383.9952ms
2025-01-03 00:33:27.564 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:27.565 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:27.571 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:27.574 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:27.572 +07:00 [INF] HTTP GET /api/user/History responded 200 in 450.8959 ms
2025-01-03 00:33:27.575 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:27.578 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:27.579 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:27.580 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.581 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-03 00:33:27.584 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-03 00:33:27.586 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-03 00:33:27.589 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 482.1271ms
2025-01-03 00:33:27.591 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:27.599 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:27.601 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:27.604 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:27.608 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:27.611 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:27.614 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:27.617 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:27.620 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:27.623 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:27.625 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:27.627 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:27.630 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:27.632 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:27.634 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:27.636 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:27.640 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:27.645 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:27.647 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:27.652 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.657 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.661 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.663 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:27.666 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:27.668 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.673 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.678 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.681 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:27.683 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.685 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:27.688 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.690 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.694 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.696 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:27.698 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.700 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.704 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:27.707 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.709 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:27.712 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.713 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:27.715 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.717 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.721 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.723 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:27.724 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.726 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.730 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.734 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.736 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:27.740 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.742 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:27.745 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.747 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.749 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:27.753 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.755 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:27.758 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:27.761 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.763 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:27.765 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.767 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.770 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.772 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.774 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.776 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:27.777 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.779 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.783 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:27.786 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.788 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:27.790 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.791 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:27.794 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.796 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.798 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.800 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:27.802 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:27.804 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:27.808 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:27.811 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.813 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:27.816 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.818 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.821 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.823 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.825 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:27.826 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:27.828 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:27.830 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:27.833 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:27.836 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:27.838 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:27.842 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.845 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:27.847 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:27.851 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:27.852 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:27.853 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:27.854 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:27.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:27.858 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 237.7231ms
2025-01-03 00:33:27.859 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:27.860 +07:00 [INF] HTTP GET /api/user/History responded 200 in 281.2744 ms
2025-01-03 00:33:27.863 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:27.865 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:27.866 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:33:27.868 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 303.9661ms
2025-01-03 00:33:28.122 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:28.125 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:28.126 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:28.128 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:28.129 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:28.131 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:28.133 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:28.136 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:28.139 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:28.142 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:28.146 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:28.149 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:28.154 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:28.188 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:28.193 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:28.196 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:28.198 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:28.200 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:28.201 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:28.204 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:28.206 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:28.208 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:28.210 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:28.214 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:28.216 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:28.217 +07:00 [DBG] Created DbConnection. (0ms).
2025-01-03 00:33:28.218 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.221 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.222 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:28.224 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:28.226 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:28.228 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:28.232 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:28.235 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:28.237 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:28.239 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.240 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:28.243 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.245 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.246 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:28.247 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:28.249 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:28.251 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:28.255 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:28.259 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:28.261 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:28.263 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.265 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:28.267 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.268 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.270 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:28.272 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:28.273 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:28.275 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:28.280 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:28.283 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:28.284 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:28.287 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.289 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:28.292 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:28.296 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:28.297 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:28.298 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:28.299 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:28.301 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:28.303 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 107.4218ms
2025-01-03 00:33:28.306 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:28.307 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:28.311 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:28.312 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 183.1783 ms
2025-01-03 00:33:28.314 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:28.316 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:28.318 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:28.320 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.323 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-03 00:33:28.321 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:28.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 203.8824ms
2025-01-03 00:33:28.326 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:28.333 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:28.335 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:28.337 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:28.338 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:28.341 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:28.344 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:28.346 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:28.349 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:28.352 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:28.354 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:28.357 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:28.359 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:28.361 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:28.363 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:28.365 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:28.367 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:28.369 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:28.372 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:28.375 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:28.377 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:28.379 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.381 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.383 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:28.384 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:28.386 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:28.387 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:28.391 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:28.394 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:28.396 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:28.397 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.398 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (0ms).
2025-01-03 00:33:28.400 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.402 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.402 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:28.403 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-03 00:33:28.404 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:28.406 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:28.410 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:28.413 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:28.415 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:28.418 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.420 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:28.422 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.424 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.426 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:28.427 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:28.429 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:28.431 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:28.437 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:28.440 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:28.442 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:28.445 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.446 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:28.449 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:28.452 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:28.453 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:28.454 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:28.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:28.458 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:28.460 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 105.9035ms
2025-01-03 00:33:28.462 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:28.463 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 142.1514 ms
2025-01-03 00:33:28.466 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:28.468 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:28.470 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:33:28.472 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 166.9381ms
2025-01-03 00:33:29.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:29.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:29.270 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:29.276 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:29.279 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:29.283 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:29.286 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:29.290 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:29.292 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:29.294 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:29.297 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:29.299 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:29.302 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:29.305 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:29.308 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:29.311 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:29.312 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:29.314 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:29.316 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:29.321 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:29.322 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:29.327 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:29.330 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:29.335 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:29.339 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:29.342 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:29.348 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:29.351 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:29.353 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:29.355 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:29.357 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.359 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.362 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.364 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.365 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.367 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.369 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:29.371 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:29.373 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.375 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.377 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.379 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.380 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.382 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.384 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.386 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.388 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:29.393 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:29.394 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:29.395 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:29.396 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.401 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.IdUser == __id_0)
    .Select(u => u.IdUser)'
2025-01-03 00:33:29.405 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.409 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.410 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT u.IdUser
        FROM User AS u
        WHERE u.IdUser == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)'
2025-01-03 00:33:29.411 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:29.414 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:29.417 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-03 00:33:29.419 +07:00 [DBG] Created DbConnection. (4ms).
2025-01-03 00:33:29.421 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.423 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.428 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.432 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.434 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.435 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:29.438 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.440 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.442 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:29.446 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:29.448 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:29.451 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.453 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:29.455 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.460 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.460 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:29.463 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:29.466 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.468 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:29.470 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:29.472 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:29.475 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.478 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:29.480 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:29.483 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.486 +07:00 [DBG] Compiling query expression: 
'DbSet<UserSavingAccount>()
    .Any(usa => __userIds_0.Contains(usa.IdUser))'
2025-01-03 00:33:29.487 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:29.490 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.492 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:29.493 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM UserSavingAccount AS u
            WHERE u.IdUser IN (
                SELECT u0.value
                FROM OPENJSON(@__userIds_0) WITH (value nvarchar(450) '') AS u0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SavingAccount_BE.Data.SavingAccountDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-01-03 00:33:29.495 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.497 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.498 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.500 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.502 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.503 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.504 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:29.506 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:29.507 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:29.509 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:29.511 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:29.513 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.516 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:29.521 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.523 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:29.526 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.527 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.529 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:29.533 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.536 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:29.538 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:29.542 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:29.544 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.545 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:29.547 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:29.548 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:29.550 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:29.551 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:29.553 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:29.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:29.557 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:29.559 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 202.533ms
2025-01-03 00:33:29.561 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-03 00:33:29.562 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:29.564 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:29.568 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.575 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:29.576 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 284.5761 ms
2025-01-03 00:33:29.579 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.582 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:29.596 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:29.598 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.601 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:29.602 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.604 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:33:29.606 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:29.608 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-03 00:33:29.610 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-03 00:33:29.612 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:29.615 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 355.0852ms
2025-01-03 00:33:29.616 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:29.618 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:29.626 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:29.627 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:29.630 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.632 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:29.634 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:29.635 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:29.637 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.639 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:29.641 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:29.643 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:29.646 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.647 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:29.649 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.652 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:29.653 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.655 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:29.657 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:29.659 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.661 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:29.664 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.665 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.667 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.671 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.673 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:29.676 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.679 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.680 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:29.682 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.685 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.687 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.690 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:29.694 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.698 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:29.702 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:29.707 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:29.711 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:29.712 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:29.716 +07:00 [DBG] Created DbConnection. (5ms).
2025-01-03 00:33:29.719 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:29.723 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.726 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:29.733 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.737 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:29.745 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.751 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 391.4489ms
2025-01-03 00:33:29.754 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:29.754 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-01-03 00:33:29.758 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:29.766 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:29.771 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2025-01-03 00:33:29.776 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 481.7600 ms
2025-01-03 00:33:29.781 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:29.787 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.794 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:29.798 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:29.804 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:29.804 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.805 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:29.811 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.812 +07:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-01-03 00:33:29.814 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:29.815 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:29.817 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 557.1544ms
2025-01-03 00:33:29.822 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:29.824 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.836 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:29.838 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (13ms).
2025-01-03 00:33:29.842 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:29.845 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.847 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:29.849 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.853 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:29.856 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.862 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:29.863 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:29.866 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:29.868 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-01-03 00:33:29.873 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:29.876 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:29.878 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:29.882 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:29.882 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.886 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.888 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:29.889 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:29.892 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.894 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.897 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:29.901 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.898 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:29.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:29.903 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.909 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.911 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:29.913 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:29.915 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.916 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:29.918 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:29.920 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.921 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:29.925 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:29.925 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:29.926 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:29.928 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:29.930 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:29.932 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-03 00:33:29.934 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:29.935 +07:00 [DBG] Created DbConnection. (4ms).
2025-01-03 00:33:29.937 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-03 00:33:29.942 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.943 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:29.945 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:29.947 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.950 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.951 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:29.953 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:29.955 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:29.956 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:29.958 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:29.960 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:29.963 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:29.964 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-01-03 00:33:29.967 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-03 00:33:29.969 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:29.971 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:29.973 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:29.976 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:29.979 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:29.982 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:29.985 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:29.988 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:29.989 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:29.992 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:29.994 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:33:29.995 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:29.998 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.000 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.001 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:30.004 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.005 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:30.008 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:30.010 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.013 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.016 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 356.9192ms
2025-01-03 00:33:30.018 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:30.020 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.022 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:30.025 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.029 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 423.7419 ms
2025-01-03 00:33:30.032 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:33:30.037 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:30.047 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.044 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-01-03 00:33:30.040 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.050 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-03 00:33:30.053 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.056 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.058 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 496.2073ms
2025-01-03 00:33:30.063 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.064 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:30.073 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.076 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:30.079 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:30.080 +07:00 [DBG] Created DbConnection. (4ms).
2025-01-03 00:33:30.082 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.084 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.085 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:30.087 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.089 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:30.092 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.093 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:30.095 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:30.097 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:30.098 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:33:30.100 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-03 00:33:30.101 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.103 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.106 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.107 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.109 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.111 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.113 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:30.114 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:30.116 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.118 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:33:30.118 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:30.119 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:30.122 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.125 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.126 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.127 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-03 00:33:30.129 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:30.129 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.132 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:30.132 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.134 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.136 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.139 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:33:30.141 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:30.152 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.152 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.153 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:30.154 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-03 00:33:30.156 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.158 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.157 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.165 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:30.165 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.167 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.169 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:30.170 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.171 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.176 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:30.177 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-01-03 00:33:30.179 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:30.181 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:30.182 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.184 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-03 00:33:30.185 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:30.187 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.188 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:30.189 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.193 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:30.196 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.198 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.200 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:30.203 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.204 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:30.206 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:30.211 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-03 00:33:30.213 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.215 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:30.216 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.218 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:30.220 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:30.221 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:30.223 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.228 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:30.230 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:30.232 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.239 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.237 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:30.233 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:30.243 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:30.245 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:30.248 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:30.250 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:30.251 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:30.253 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:30.255 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:30.256 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:30.258 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:30.263 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.262 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:30.264 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 381.2938ms
2025-01-03 00:33:30.265 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.266 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.267 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:30.274 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 468.7790 ms
2025-01-03 00:33:30.272 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:30.269 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:30.276 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:30.278 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.280 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.281 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.282 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:30.285 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.286 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-03 00:33:30.289 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.290 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 539.2341ms
2025-01-03 00:33:30.294 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.296 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.302 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:30.312 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-03 00:33:30.304 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:30.313 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.314 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:30.317 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.317 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-03 00:33:30.320 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.321 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.323 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:30.325 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.327 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.329 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.330 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:30.332 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:30.334 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.336 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:33:30.338 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.341 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.344 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.345 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.348 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.349 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-01-03 00:33:30.351 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:30.353 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:30.355 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.359 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:30.359 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:30.362 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.365 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.366 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:30.368 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.371 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.374 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:30.376 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:30.378 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.380 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:30.382 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.383 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:30.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.388 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:30.389 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.392 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.394 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-03 00:33:30.396 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:30.397 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:30.399 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.402 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:30.403 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:30.406 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.408 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.410 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:30.411 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.413 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.415 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.417 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:30.418 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:30.420 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:30.422 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:30.425 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:30.427 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:30.428 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:30.431 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:30.432 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:30.435 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.436 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:30.438 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:30.440 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:30.442 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.444 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 446.0606ms
2025-01-03 00:33:30.446 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:30.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:30.448 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:30.450 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:30.453 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:30.455 +07:00 [INF] HTTP GET /api/user/History responded 200 in 528.7905 ms
2025-01-03 00:33:30.458 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:30.459 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:30.461 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:30.462 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:30.464 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:30.466 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.467 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:30.468 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:30.470 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-03 00:33:30.471 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:30.473 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-03 00:33:30.475 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 569.9714ms
2025-01-03 00:33:30.477 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:30.479 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-03 00:33:30.487 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 229.5095ms
2025-01-03 00:33:30.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:30.491 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:30.493 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:30.496 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:30.498 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:30.500 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 315.9206 ms
2025-01-03 00:33:30.502 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:30.503 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:30.507 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:30.508 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:30.512 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:30.514 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.516 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:30.518 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:30.520 +07:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-01-03 00:33:30.522 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:30.524 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:30.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 361.2058ms
2025-01-03 00:33:30.528 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:30.530 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:30.537 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:30.539 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:30.540 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:30.543 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.544 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:30.546 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.549 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:30.551 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.553 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:30.556 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:30.559 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:30.561 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.564 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:30.566 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.568 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:30.570 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.573 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.575 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.577 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.580 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:30.581 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.584 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:30.586 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:30.587 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-03 00:33:30.591 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.596 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.599 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.602 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.605 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.609 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.614 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.616 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:30.620 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:30.622 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-01-03 00:33:30.628 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:30.631 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.633 +07:00 [DBG] Created DbConnection. (4ms).
2025-01-03 00:33:30.638 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.641 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.647 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.649 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.651 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:30.656 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.653 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.658 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:30.659 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:33:30.662 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.664 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:30.666 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.668 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.677 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.677 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.679 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:30.683 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.685 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.686 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:30.687 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:30.693 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.693 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:30.694 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.698 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.699 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:30.700 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:30.702 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:30.707 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.706 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.703 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:30.709 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:30.711 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.712 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:30.715 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.716 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.717 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:30.722 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.724 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-01-03 00:33:30.728 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:30.732 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.737 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-01-03 00:33:30.741 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:30.744 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2025-01-03 00:33:30.746 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:30.748 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:30.750 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-01-03 00:33:30.753 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:30.754 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:30.756 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.759 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.761 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:30.764 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.765 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:30.767 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:30.770 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.772 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:30.775 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:33:30.777 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:30.780 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:30.781 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.783 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.785 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:30.787 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:30.788 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.790 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.793 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.794 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.796 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:30.797 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.799 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.800 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.802 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.804 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:30.806 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:30.807 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:30.809 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:30.811 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.813 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:30.816 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:30.817 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.819 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:30.822 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.824 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:30.828 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:33:30.829 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:30.831 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:30.834 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.837 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.839 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:30.840 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:33:30.843 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (6ms).
2025-01-03 00:33:30.846 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:30.848 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.850 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:30.851 +07:00 [DBG] Created DbConnection. (5ms).
2025-01-03 00:33:30.853 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (5ms).
2025-01-03 00:33:30.857 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:30.858 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.861 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.862 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:30.864 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.865 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.867 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:30.869 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.871 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.872 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:30.874 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.875 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.877 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:30.879 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:30.881 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-03 00:33:30.883 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 310.0082ms
2025-01-03 00:33:30.884 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:30.886 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.888 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:30.893 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:30.896 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:33:30.897 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 380.4892 ms
2025-01-03 00:33:30.900 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.904 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.907 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:30.910 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-03 00:33:30.912 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 8ms reading results.
2025-01-03 00:33:30.914 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.917 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.921 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.924 +07:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-01-03 00:33:30.927 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (10ms).
2025-01-03 00:33:30.929 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (8ms).
2025-01-03 00:33:30.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 443.0075ms
2025-01-03 00:33:30.935 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.938 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.944 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.946 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.948 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:30.953 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:30.956 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:30.958 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:33:30.961 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-03 00:33:30.963 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.965 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:30.970 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:30.974 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:33:30.979 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.985 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:30.988 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-03 00:33:30.992 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:30.994 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.995 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:30.997 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:30.999 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:31.002 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.004 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.005 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.009 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.011 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:31.013 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.016 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:31.015 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-03 00:33:31.018 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:31.021 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.022 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:31.025 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.033 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:33:31.033 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.037 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.039 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:31.041 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 4ms reading results.
2025-01-03 00:33:31.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-01-03 00:33:31.046 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.048 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.051 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:31.055 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.057 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:31.062 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.067 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:31.070 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 7ms reading results.
2025-01-03 00:33:31.071 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:31.075 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.076 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:31.078 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (3ms).
2025-01-03 00:33:31.080 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:31.083 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.086 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:31.088 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.090 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 547.752ms
2025-01-03 00:33:31.091 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.093 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:33:31.094 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:31.095 +07:00 [INF] HTTP GET /api/user/History responded 200 in 626.6213 ms
2025-01-03 00:33:31.097 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:31.099 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:31.101 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.102 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.110 +07:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-01-03 00:33:31.111 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.113 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 667.0059ms
2025-01-03 00:33:31.115 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.122 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 6ms reading results.
2025-01-03 00:33:31.124 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.125 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (0ms).
2025-01-03 00:33:31.126 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:31.130 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:31.131 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:31.132 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:31.133 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:31.135 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:31.136 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 345.7818ms
2025-01-03 00:33:31.138 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:31.139 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 427.1305 ms
2025-01-03 00:33:31.143 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:31.145 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:31.146 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:31.147 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.149 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:33:31.148 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:31.151 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 466.7713ms
2025-01-03 00:33:31.152 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:31.158 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:31.160 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:31.162 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.164 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.166 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:31.184 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:31.186 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:31.188 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:31.191 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:31.193 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:31.195 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.197 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.198 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.201 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:31.203 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.205 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.209 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.211 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.213 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:31.217 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:31.219 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-03 00:33:31.222 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.225 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.227 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.230 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:31.232 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:31.234 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.247 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.251 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.252 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.254 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.256 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:31.258 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.260 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.262 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.264 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:31.266 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:31.267 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.278 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.281 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.282 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.284 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.286 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:31.288 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.290 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.291 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:31.293 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-03 00:33:31.296 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.298 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.302 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:31.307 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.311 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.315 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.317 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.319 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.322 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:31.325 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.327 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.329 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.331 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.334 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:31.336 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.348 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.353 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.355 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:31.358 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.360 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:31.362 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:31.366 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:31.368 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:31.369 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:31.370 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:31.372 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:31.377 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 181.6949ms
2025-01-03 00:33:31.379 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.380 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:31.381 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 228.6912 ms
2025-01-03 00:33:31.384 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:31.387 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:31.388 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:31.389 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.392 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:31.394 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-03 00:33:31.395 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:31.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 257.6624ms
2025-01-03 00:33:31.398 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:31.404 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:31.406 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.408 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.409 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:31.412 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:31.415 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:31.417 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:31.420 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:31.422 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:31.425 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.427 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.429 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.431 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:31.434 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.436 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.438 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.440 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.443 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:31.447 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:31.448 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:31.450 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.452 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.454 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.456 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.458 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:31.460 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.466 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.469 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.471 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.473 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.475 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:31.477 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.478 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.480 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.482 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.484 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:31.485 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.496 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.500 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.503 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:31.505 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.507 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:31.510 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.511 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.513 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:31.515 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-03 00:33:31.517 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.519 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.521 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.525 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:31.528 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.532 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.536 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.538 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:31.542 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.546 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:31.551 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.555 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.558 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.562 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:31.565 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-01-03 00:33:31.570 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.579 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.587 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.590 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:33:31.597 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.602 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:33:31.607 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:31.618 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:31.621 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:31.624 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:31.628 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:31.629 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:31.633 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 208.457ms
2025-01-03 00:33:31.635 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:31.637 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 241.7355 ms
2025-01-03 00:33:31.639 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:31.643 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:31.642 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:31.644 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:31.645 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.647 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:31.648 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:33:31.649 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:31.651 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 270.9098ms
2025-01-03 00:33:31.656 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)' with route pattern 'api/user/ListSavingAccounts' is valid for the request path '/api/user/ListSavingAccounts'
2025-01-03 00:33:31.664 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.667 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.669 +07:00 [INF] Route matched with {action = "GetListSavingAccounts", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListSavingAccounts(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:31.672 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:31.675 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:31.678 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:31.682 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:31.686 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:31.689 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.692 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.696 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.699 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:31.702 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.705 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.708 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.711 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.714 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:31.719 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:31.721 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:31.722 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.725 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.727 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.729 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.732 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:31.734 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.740 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.744 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.746 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:33:31.748 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.750 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:31.754 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.756 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.759 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.760 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.762 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:31.764 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.774 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.779 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.781 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.783 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.786 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:31.788 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.790 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:33:31.791 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:33:31.793 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 0 entities written to the database.
2025-01-03 00:33:31.795 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.797 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.799 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.801 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.803 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:31.805 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.809 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[IdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__id_0
2025-01-03 00:33:31.813 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.815 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.817 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.819 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:31.822 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.826 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.829 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.832 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:31.834 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:33:31.837 +07:00 [DBG] Executing DbCommand [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.852 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[value]
            FROM OPENJSON(@__userIds_0) WITH ([value] nvarchar(450) '$') AS [u0]
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.855 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.857 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.863 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.865 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:31.867 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:31.869 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:31.870 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:31.871 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:31.872 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:31.874 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.SavingAccount, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:31.877 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE) in 187.7618ms
2025-01-03 00:33:31.879 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListSavingAccounts (SavingAccount_BE)'
2025-01-03 00:33:31.880 +07:00 [INF] HTTP GET /api/user/ListSavingAccounts responded 200 in 234.0172 ms
2025-01-03 00:33:31.883 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:31.884 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:31.887 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:31.888 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.889 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:31.891 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-03 00:33:31.892 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:31.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/ListSavingAccounts?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 259.2727ms
2025-01-03 00:33:31.896 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:31.901 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:31.902 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:31.904 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:31.905 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:31.914 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:31.917 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:31.919 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:31.922 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:31.926 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:31.928 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:31.931 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.932 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:31.934 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.937 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:31.941 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.943 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.945 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:31.948 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:31.951 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:31.954 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:31.956 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:31.958 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.961 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.962 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.964 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.967 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:31.969 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.972 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:31.978 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:31.979 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:31.982 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.984 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:31.986 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.988 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:31.990 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:31.992 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:31.994 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:31.996 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:32.005 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:32.008 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:32.010 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:32.012 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.015 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:32.017 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.019 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.021 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:32.022 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:32.024 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:32.026 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:32.037 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:32.040 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:32.042 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:32.044 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.046 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:32.048 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:32.051 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:32.052 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:32.053 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:32.054 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:32.056 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:32.059 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 128.0461ms
2025-01-03 00:33:32.061 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:32.061 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - null null
2025-01-03 00:33:32.063 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 167.1747 ms
2025-01-03 00:33:32.066 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:33:32.069 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:32.070 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:33:32.072 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.073 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:33:32.075 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:33:32.076 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:33:32.077 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 194.7082ms
2025-01-03 00:33:32.078 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:33:32.085 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:33:32.087 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:32.088 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:32.091 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:33:32.096 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:33:32.098 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:33:32.100 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:33:32.103 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:33:32.105 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:33:32.107 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:32.109 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:33:32.111 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:32.113 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:33:32.115 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:32.117 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:33:32.119 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:33:32.121 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:33:32.124 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:33:32.128 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:33:32.129 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:33:32.130 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.132 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.134 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:32.135 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:32.137 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:33:32.139 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:32.142 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:33:32.145 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:32.147 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:32.149 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.152 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:33:32.155 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.157 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.158 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:32.160 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:32.162 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:33:32.164 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:32.172 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:33:32.176 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:32.177 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:32.179 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.180 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:32.182 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.183 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.185 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:33:32.186 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:33:32.187 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:33:32.189 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:32.212 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:33:32.214 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:33:32.215 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:33:32.216 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.218 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:33:32.220 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:33:32.222 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:33:32.223 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:33:32.224 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:33:32.226 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:33:32.228 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:33:32.231 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 123.4034ms
2025-01-03 00:33:32.234 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:33:32.236 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 160.6095 ms
2025-01-03 00:33:32.240 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:33:32.241 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:33:32.243 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:33:32.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=4fd8d7d3-97e1-4bc1-bfff-8a5af5da3a51 - 200 null application/json; charset=utf-8 183.4643ms
