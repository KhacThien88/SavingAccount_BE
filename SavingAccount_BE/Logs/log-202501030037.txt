2025-01-03 00:37:18.297 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/admin/AddCardUser - null null
2025-01-03 00:37:18.324 +07:00 [DBG] OPTIONS requests are not supported
2025-01-03 00:37:18.327 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:18.330 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:18.332 +07:00 [DBG] The request is a preflight request.
2025-01-03 00:37:18.335 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/admin/AddCardUser - 204 null null 37.8088ms
2025-01-03 00:37:18.339 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/admin/AddCardUser - application/json 167
2025-01-03 00:37:18.355 +07:00 [DBG] POST requests are not supported
2025-01-03 00:37:18.360 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:18.363 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:18.367 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:18.369 +07:00 [DBG] 1 candidate(s) found for the request path '/api/admin/AddCardUser'
2025-01-03 00:37:18.372 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)' with route pattern 'api/admin/AddCardUser' is valid for the request path '/api/admin/AddCardUser'
2025-01-03 00:37:18.379 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:18.384 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:18.388 +07:00 [INF] Route matched with {action = "AddCard", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCard(SavingAccount_BE.Model.CardAddModel) on controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE).
2025-01-03 00:37:18.394 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:18.398 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:18.401 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:18.409 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:18.413 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:18.416 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE)
2025-01-03 00:37:18.423 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE)
2025-01-03 00:37:18.428 +07:00 [DBG] Attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' ...
2025-01-03 00:37:18.431 +07:00 [DBG] Attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' using the name '' in request data ...
2025-01-03 00:37:18.440 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:37:18.445 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000006B": started reading request body.
2025-01-03 00:37:18.450 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000006B": done reading request body.
2025-01-03 00:37:18.457 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.CardAddModel'
2025-01-03 00:37:18.460 +07:00 [DBG] Done attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:18.463 +07:00 [DBG] Done attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:18.467 +07:00 [DBG] Attempting to validate the bound parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' ...
2025-01-03 00:37:18.475 +07:00 [DBG] Done attempting to validate the bound parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:18.480 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:18.487 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:18.492 +07:00 [DBG] Created DbConnection. (5ms).
2025-01-03 00:37:18.494 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:18.496 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:18.500 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:18.502 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:18.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-01-03 00:37:18.513 +07:00 [DBG] Executing DbCommand [Parameters=[@__cam_idUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[UserIdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__cam_idUser_0
2025-01-03 00:37:18.541 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__cam_idUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[UserIdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__cam_idUser_0
2025-01-03 00:37:18.547 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.550 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:18.556 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 9ms reading results.
2025-01-03 00:37:18.559 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:18.562 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:18.566 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'Card' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.570 +07:00 [DBG] 'SavingAccountDbContext' generated a temporary value for the property 'UserCard.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.577 +07:00 [DBG] The navigation 'UserCard.Card' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.580 +07:00 [DBG] The navigation 'UserCard.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.583 +07:00 [DBG] Context 'SavingAccountDbContext' started tracking 'UserCard' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.590 +07:00 [DBG] SaveChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:37:18.592 +07:00 [DBG] DetectChanges starting for 'SavingAccountDbContext'.
2025-01-03 00:37:18.598 +07:00 [DBG] DetectChanges completed for 'SavingAccountDbContext'.
2025-01-03 00:37:18.602 +07:00 [DBG] Executing 2 update commands as a batch.
2025-01-03 00:37:18.603 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:18.608 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:18.609 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-01-03 00:37:18.613 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-01-03 00:37:18.615 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:18.617 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:18.621 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:37:18.625 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Card] ([IdCard], [Balance], [Base64Image], [CardNumber], [DateOpened], [NameOfCard], [TypeCard])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [UserCard] ([IdCard], [IdUser])
OUTPUT INSERTED.[Id]
VALUES (@p7, @p8);
2025-01-03 00:37:18.645 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Card] ([IdCard], [Balance], [Base64Image], [CardNumber], [DateOpened], [NameOfCard], [TypeCard])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO [UserCard] ([IdCard], [IdUser])
OUTPUT INSERTED.[Id]
VALUES (@p7, @p8);
2025-01-03 00:37:18.653 +07:00 [DBG] The foreign key property 'UserCard.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-01-03 00:37:18.658 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:18.663 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 10ms reading results.
2025-01-03 00:37:18.666 +07:00 [DBG] Committing transaction.
2025-01-03 00:37:18.669 +07:00 [DBG] Committed transaction.
2025-01-03 00:37:18.672 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:18.674 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:18.680 +07:00 [DBG] Disposing transaction.
2025-01-03 00:37:18.681 +07:00 [DBG] An entity of type 'Card' tracked by 'SavingAccountDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.687 +07:00 [DBG] An entity of type 'UserCard' tracked by 'SavingAccountDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-01-03 00:37:18.692 +07:00 [DBG] SaveChanges completed for 'SavingAccountDbContext' with 2 entities written to the database.
2025-01-03 00:37:18.693 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:18.695 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:18.696 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:18.697 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:18.698 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:37:18.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-01-03 00:37:18.701 +07:00 [INF] Executed action SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE) in 284.666ms
2025-01-03 00:37:18.705 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:18.706 +07:00 [INF] HTTP POST /api/admin/AddCardUser responded 200 in 338.8201 ms
2025-01-03 00:37:18.707 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:18.709 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:18.723 +07:00 [DBG] Disposed connection to database '' on server '' (14ms).
2025-01-03 00:37:18.725 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/admin/AddCardUser - 200 null text/plain; charset=utf-8 387.7543ms
2025-01-03 00:37:22.575 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:22.580 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:22.581 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:22.583 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:22.589 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:22.590 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:37:22.592 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:37:22.594 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:22.595 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:22.597 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:22.599 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:22.601 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:22.608 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:22.610 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:22.612 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:22.614 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:22.616 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:22.617 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:22.622 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:22.624 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:22.626 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:22.627 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:22.629 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:22.631 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:22.634 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:22.640 +07:00 [DBG] Created DbConnection. (5ms).
2025-01-03 00:37:22.641 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.642 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.644 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:22.645 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:22.646 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:22.648 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:22.655 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:22.658 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:22.660 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:22.661 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.663 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:22.665 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.667 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.670 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:22.671 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:22.673 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:22.674 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:22.682 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:22.686 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:22.686 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 0ms reading results.
2025-01-03 00:37:22.687 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.690 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:22.692 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.693 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.694 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:22.695 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-01-03 00:37:22.696 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:22.697 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:22.713 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:22.717 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:22.719 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:22.719 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.721 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:22.724 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:22.727 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:22.728 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:22.728 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:22.729 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:22.731 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:22.732 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 118.3337ms
2025-01-03 00:37:22.734 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:22.739 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:22.740 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 150.0594 ms
2025-01-03 00:37:22.754 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:22.757 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:22.758 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:22.760 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.762 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:22.763 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-03 00:37:22.764 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:22.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 192.4429ms
2025-01-03 00:37:22.768 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:37:22.775 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:37:22.777 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:22.779 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:22.780 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:22.783 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:22.785 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:22.787 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:22.789 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:22.792 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:22.794 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:22.796 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:22.798 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:22.800 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:22.803 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:22.806 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:22.808 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:22.810 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:22.813 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:22.817 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:22.818 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:37:22.820 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.822 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.824 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:22.826 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:22.828 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:22.830 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:22.834 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:22.837 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:22.839 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:22.841 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.843 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:22.845 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.846 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.849 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:22.850 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:22.852 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:22.854 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:22.857 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:22.860 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:22.861 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:22.864 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.866 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:22.869 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.870 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.873 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:22.874 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:22.876 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:22.877 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:22.881 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:22.884 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:22.886 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:22.888 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.890 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:22.892 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:22.896 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:22.898 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:22.899 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:22.900 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:22.903 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:22.907 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 113.6943ms
2025-01-03 00:37:22.912 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:22.913 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 149.0513 ms
2025-01-03 00:37:22.916 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:22.918 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:22.923 +07:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-01-03 00:37:22.925 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 187.1494ms
2025-01-03 00:37:29.604 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:29.612 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:29.615 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:29.617 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:29.620 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:29.622 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:37:29.625 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:37:29.629 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:29.637 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:29.638 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:29.642 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:29.646 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:29.651 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:29.656 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:29.670 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:29.674 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:29.678 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:29.682 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:29.689 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:29.692 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:29.697 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:29.699 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:29.703 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:29.707 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:29.711 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:29.712 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:37:29.713 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.715 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.718 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:29.720 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:29.722 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:29.725 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:29.733 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:29.737 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:29.742 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:37:29.745 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.749 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:37:29.754 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.756 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.758 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:29.759 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:29.761 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:29.763 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:29.767 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:29.770 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:29.772 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:29.774 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.775 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:29.777 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.779 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.781 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:29.782 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:29.784 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:29.786 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:29.789 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:29.792 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:29.793 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:29.795 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.797 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:29.799 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:29.802 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:29.803 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:29.804 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:29.805 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:29.807 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:29.809 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 135.2798ms
2025-01-03 00:37:29.811 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:29.812 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:29.815 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:29.817 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 196.8890 ms
2025-01-03 00:37:29.818 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:29.820 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:29.822 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:29.823 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.824 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:29.826 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:37:29.827 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:37:29.831 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:37:29.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 224.87ms
2025-01-03 00:37:29.833 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:29.839 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:29.840 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:29.843 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:29.845 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:29.848 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:29.850 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:29.852 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:29.855 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:29.857 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:29.860 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:29.862 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:29.864 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:29.866 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:29.867 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:29.869 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:29.872 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:29.875 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:29.876 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:37:29.877 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.879 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.881 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:29.882 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:29.884 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:29.886 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:29.889 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:29.892 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:29.894 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:29.896 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.898 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:29.901 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.903 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.906 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:29.909 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:29.911 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:29.913 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:29.917 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:29.920 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:29.923 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:29.925 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.928 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:29.933 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.937 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.943 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:29.946 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:29.948 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:37:29.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:29.956 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:29.960 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:29.963 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:37:29.966 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.968 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:29.971 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:29.975 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:29.976 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:29.978 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:29.979 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:29.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:29.984 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 129.2407ms
2025-01-03 00:37:29.987 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:29.990 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 165.7275 ms
2025-01-03 00:37:29.993 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:29.995 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:29.997 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:37:30.000 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 188.7514ms
2025-01-03 00:37:31.176 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:31.183 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:31.186 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:31.188 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:31.189 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:31.191 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-03 00:37:31.192 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-03 00:37:31.194 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:37:31.196 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:37:31.198 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:31.201 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:31.204 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:31.206 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:31.209 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:31.211 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:31.213 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:31.215 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:31.218 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:31.224 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:31.226 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.229 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.231 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:31.233 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.237 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:31.242 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:31.243 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:37:31.246 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.247 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.249 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.251 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.254 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:31.256 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.263 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.266 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.268 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.270 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.272 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.274 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.276 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.278 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.280 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.281 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:31.283 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.296 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.299 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.301 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.303 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.305 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.307 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.309 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.311 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:31.316 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.329 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.332 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.334 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:31.336 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.338 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.341 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.343 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.345 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.346 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.348 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:31.350 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:37:31.362 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:37:31.365 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.367 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.369 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.371 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.374 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.376 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.379 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.380 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.381 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:31.384 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.406 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.412 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.413 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.415 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.417 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.420 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.422 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.424 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.425 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:31.429 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:37:31.446 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:37:31.448 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.450 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:31.453 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.454 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.458 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.460 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.464 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.467 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:31.469 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:31.470 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:37:31.479 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:37:31.482 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.484 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.486 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.488 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.491 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:31.494 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:31.495 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:31.496 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:31.497 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:31.499 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:31.501 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 287.9563ms
2025-01-03 00:37:31.503 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/History?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:31.504 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:37:31.508 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:31.509 +07:00 [INF] HTTP GET /api/user/History responded 200 in 319.9753 ms
2025-01-03 00:37:31.510 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:31.514 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:31.513 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:31.515 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:31.517 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.518 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/History'
2025-01-03 00:37:31.520 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:37:31.521 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)' with route pattern 'api/user/History' is valid for the request path '/api/user/History'
2025-01-03 00:37:31.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 347.3581ms
2025-01-03 00:37:31.526 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:37:31.531 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:37:31.533 +07:00 [INF] Route matched with {action = "GetListHistory", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListHistory(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:31.536 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:31.538 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:31.540 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:31.543 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:31.545 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:31.547 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:31.549 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:31.551 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:31.553 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:31.555 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.557 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.559 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:31.561 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.563 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:31.567 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:31.568 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:37:31.569 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.571 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.573 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.574 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.576 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:31.578 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.581 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.585 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.588 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:37:31.591 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.593 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.595 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.597 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.599 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.600 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.601 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:31.603 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.607 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserSavingAccount] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__id_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.610 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.612 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.614 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.616 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.618 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.620 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.622 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.624 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.625 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:31.627 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.630 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [u].[IdCard]
    FROM [UserCard] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.633 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.634 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.636 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.638 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.641 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.643 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.645 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.647 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.649 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:31.651 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:37:31.655 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[IdHistory]
FROM [CardHistory] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [s].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s]
)
2025-01-03 00:37:31.658 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.660 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.663 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.665 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.667 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.669 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.673 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.675 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:31.677 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.681 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[IdSavingAccount], [s].[Balance], [s].[DateOpened], [s].[Deposits], [s].[NameOfSavingAccount], [s].[Term], [s].[Withdraw]
FROM [SavingAccount] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [u].[IdSavingAccount]
    FROM [UserSavingAccount] AS [u]
    WHERE [u].[IdUser] IN (
        SELECT [u0].[IdUser]
        FROM [User] AS [u0]
        WHERE [u0].[IdUser] = @__id_0
    )
)
2025-01-03 00:37:31.684 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.686 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:31.688 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.690 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.692 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.693 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.695 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.696 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.698 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:31.699 +07:00 [DBG] Executing DbCommand [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:37:31.707 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__Select_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [s].[IdHistory]
FROM [SavingAccountHistory] AS [s]
WHERE [s].[IdSavingAccount] IN (
    SELECT [s0].[value]
    FROM OPENJSON(@__Select_0) WITH ([value] nvarchar(450) '$') AS [s0]
)
2025-01-03 00:37:31.710 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.713 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:31.716 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.718 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:31.720 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.722 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.723 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.724 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.726 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:31.729 +07:00 [DBG] Executing DbCommand [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:37:31.734 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__combinedHistoryIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[IdHistory], [h].[Change], [h].[DateTransfer], [h].[Note]
FROM [History] AS [h]
WHERE [h].[IdHistory] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__combinedHistoryIds_0) WITH ([value] nvarchar(450) '$') AS [c]
)
2025-01-03 00:37:31.738 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.742 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 3ms reading results.
2025-01-03 00:37:31.747 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.749 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.752 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:31.755 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:31.756 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:31.757 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:31.758 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:31.760 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.History, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:31.762 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE) in 215.2585ms
2025-01-03 00:37:31.764 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListHistory (SavingAccount_BE)'
2025-01-03 00:37:31.765 +07:00 [INF] HTTP GET /api/user/History responded 200 in 250.0607 ms
2025-01-03 00:37:31.768 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:31.770 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.772 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-01-03 00:37:31.775 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/History?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 272.0916ms
2025-01-03 00:37:31.777 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:31.783 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:31.785 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:31.786 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:31.788 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:31.789 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:37:31.791 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:37:31.793 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:31.795 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:31.797 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:31.800 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:31.802 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:31.805 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:31.808 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:31.813 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:31.816 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:31.819 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:31.823 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:31.825 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:31.827 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.829 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.831 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:31.835 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:31.839 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:31.843 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:31.844 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:37:31.848 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.853 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.855 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.857 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.859 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:31.861 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.865 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:31.869 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.871 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:31.873 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.876 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.882 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.884 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.888 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:31.891 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:31.894 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:31.898 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:31.902 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.904 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:31.907 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.909 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.912 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.914 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:31.920 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:31.923 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-01-03 00:37:31.926 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:31.930 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:31.934 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:31.937 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:31.940 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.942 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:31.945 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:31.948 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:31.949 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:31.950 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:31.952 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:31.954 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:31.956 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 139.6492ms
2025-01-03 00:37:31.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - null null
2025-01-03 00:37:31.959 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:31.962 +07:00 [DBG] The request path  does not match the path filter
2025-01-03 00:37:31.964 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 176.0167 ms
2025-01-03 00:37:31.965 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:31.967 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:31.969 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:31.970 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:31.971 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:31.973 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:37:31.975 +07:00 [DBG] 1 candidate(s) found for the request path '/api/user/Wallet'
2025-01-03 00:37:31.976 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 199.9288ms
2025-01-03 00:37:31.978 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)' with route pattern 'api/user/Wallet' is valid for the request path '/api/user/Wallet'
2025-01-03 00:37:31.984 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:31.986 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:31.987 +07:00 [INF] Route matched with {action = "GetListCards", controller = "Users"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetListCards(System.String) on controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE).
2025-01-03 00:37:31.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:31.995 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:31.997 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:31.999 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:32.002 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:32.003 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:32.005 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.UsersController (SavingAccount_BE)
2025-01-03 00:37:32.007 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:32.009 +07:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-01-03 00:37:32.012 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:32.016 +07:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-01-03 00:37:32.018 +07:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-01-03 00:37:32.020 +07:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-01-03 00:37:32.023 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:32.026 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:32.027 +07:00 [DBG] Created DbConnection. (1ms).
2025-01-03 00:37:32.029 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.031 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.032 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:32.034 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:32.036 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:32.038 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:32.042 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserCard] AS [u]
        WHERE [u].[IdUser] IN (
            SELECT [u0].[IdUser]
            FROM [User] AS [u0]
            WHERE [u0].[IdUser] = @__userId_0
        )) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-01-03 00:37:32.045 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:32.047 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:32.049 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.051 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:32.054 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.056 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.057 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:32.059 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:32.061 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:32.063 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:32.066 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdCard]
FROM [UserCard] AS [u]
WHERE [u].[IdUser] = @__userId_0
2025-01-03 00:37:32.069 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:32.071 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:32.073 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.074 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:32.077 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.079 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.081 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:32.082 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-01-03 00:37:32.084 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-01-03 00:37:32.086 +07:00 [DBG] Executing DbCommand [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:32.090 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cardIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[IdCard], [c].[Balance], [c].[Base64Image], [c].[CardNumber], [c].[DateOpened], [c].[NameOfCard], [c].[TypeCard]
FROM [Card] AS [c]
WHERE [c].[IdCard] IN (
    SELECT [c0].[value]
    FROM OPENJSON(@__cardIds_0) WITH ([value] nvarchar(450) '$') AS [c0]
)
2025-01-03 00:37:32.093 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:32.095 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 1ms reading results.
2025-01-03 00:37:32.097 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.099 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (1ms).
2025-01-03 00:37:32.101 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:32.105 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:32.106 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:32.108 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:32.109 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-01-03 00:37:32.110 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SavingAccount_BE.Model.Card, SavingAccount_BE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-01-03 00:37:32.113 +07:00 [INF] Executed action SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE) in 110.016ms
2025-01-03 00:37:32.115 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.UsersController.GetListCards (SavingAccount_BE)'
2025-01-03 00:37:32.117 +07:00 [INF] HTTP GET /api/user/Wallet responded 200 in 145.8742 ms
2025-01-03 00:37:32.120 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:32.122 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:32.125 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-01-03 00:37:32.127 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7231/api/user/Wallet?userId=ad28b73b-7578-407c-aac8-481f698573e4 - 200 null application/json; charset=utf-8 169.7083ms
2025-01-03 00:37:56.972 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7231/api/admin/AddCardUser - null null
2025-01-03 00:37:56.980 +07:00 [DBG] OPTIONS requests are not supported
2025-01-03 00:37:56.982 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:56.985 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:56.986 +07:00 [DBG] The request is a preflight request.
2025-01-03 00:37:56.988 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7231/api/admin/AddCardUser - 204 null null 16.9496ms
2025-01-03 00:37:56.991 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/admin/AddCardUser - application/json 136
2025-01-03 00:37:57.009 +07:00 [DBG] POST requests are not supported
2025-01-03 00:37:57.012 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:57.018 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:57.020 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:57.026 +07:00 [DBG] 1 candidate(s) found for the request path '/api/admin/AddCardUser'
2025-01-03 00:37:57.028 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)' with route pattern 'api/admin/AddCardUser' is valid for the request path '/api/admin/AddCardUser'
2025-01-03 00:37:57.031 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:57.033 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:57.037 +07:00 [INF] Route matched with {action = "AddCard", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCard(SavingAccount_BE.Model.CardAddModel) on controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE).
2025-01-03 00:37:57.047 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:57.051 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:57.055 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:57.062 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:57.068 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:57.074 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE)
2025-01-03 00:37:57.080 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE)
2025-01-03 00:37:57.086 +07:00 [DBG] Attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' ...
2025-01-03 00:37:57.090 +07:00 [DBG] Attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' using the name '' in request data ...
2025-01-03 00:37:57.095 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:37:57.100 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000007F": started reading request body.
2025-01-03 00:37:57.104 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:0000007F": done reading request body.
2025-01-03 00:37:57.107 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.CardAddModel'
2025-01-03 00:37:57.110 +07:00 [DBG] Done attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:57.115 +07:00 [DBG] Done attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:57.120 +07:00 [DBG] Attempting to validate the bound parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' ...
2025-01-03 00:37:57.123 +07:00 [DBG] Done attempting to validate the bound parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:57.127 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:57.134 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:57.137 +07:00 [DBG] Created DbConnection. (2ms).
2025-01-03 00:37:57.140 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:57.144 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:57.149 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:57.151 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:57.154 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-01-03 00:37:57.159 +07:00 [DBG] Executing DbCommand [Parameters=[@__cam_idUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[UserIdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__cam_idUser_0
2025-01-03 00:37:57.182 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cam_idUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[UserIdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__cam_idUser_0
2025-01-03 00:37:57.189 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:57.195 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 5ms reading results.
2025-01-03 00:37:57.200 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:57.204 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (4ms).
2025-01-03 00:37:57.208 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:57.214 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:57.216 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:57.218 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:57.220 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:37:57.223 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-03 00:37:57.227 +07:00 [INF] Executed action SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE) in 153.3711ms
2025-01-03 00:37:57.232 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:57.233 +07:00 [ERR] HTTP POST /api/admin/AddCardUser responded 500 in 213.3088 ms
2025-01-03 00:37:57.237 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:57.239 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:57.242 +07:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-01-03 00:37:57.244 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/admin/AddCardUser - 500 null text/plain; charset=utf-8 253.2142ms
2025-01-03 00:37:59.787 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7231/api/admin/AddCardUser - application/json 136
2025-01-03 00:37:59.795 +07:00 [DBG] POST requests are not supported
2025-01-03 00:37:59.797 +07:00 [DBG] The request has an origin header: 'http://localhost:3334'.
2025-01-03 00:37:59.801 +07:00 [INF] CORS policy execution successful.
2025-01-03 00:37:59.803 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-01-03 00:37:59.808 +07:00 [DBG] 1 candidate(s) found for the request path '/api/admin/AddCardUser'
2025-01-03 00:37:59.811 +07:00 [DBG] Endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)' with route pattern 'api/admin/AddCardUser' is valid for the request path '/api/admin/AddCardUser'
2025-01-03 00:37:59.816 +07:00 [DBG] Request matched endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:59.819 +07:00 [INF] Executing endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:59.821 +07:00 [INF] Route matched with {action = "AddCard", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddCard(SavingAccount_BE.Model.CardAddModel) on controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE).
2025-01-03 00:37:59.826 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-01-03 00:37:59.830 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-01-03 00:37:59.833 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-01-03 00:37:59.835 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-01-03 00:37:59.837 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-01-03 00:37:59.840 +07:00 [DBG] Executing controller factory for controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE)
2025-01-03 00:37:59.843 +07:00 [DBG] Executed controller factory for controller SavingAccount_BE.Controllers.AdminController (SavingAccount_BE)
2025-01-03 00:37:59.847 +07:00 [DBG] Attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' ...
2025-01-03 00:37:59.850 +07:00 [DBG] Attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' using the name '' in request data ...
2025-01-03 00:37:59.853 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-01-03 00:37:59.858 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000081": started reading request body.
2025-01-03 00:37:59.862 +07:00 [DBG] Connection id "0HN9BA7DGUVVJ", Request id "0HN9BA7DGUVVJ:00000081": done reading request body.
2025-01-03 00:37:59.864 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'SavingAccount_BE.Model.CardAddModel'
2025-01-03 00:37:59.866 +07:00 [DBG] Done attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:59.869 +07:00 [DBG] Done attempting to bind parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:59.872 +07:00 [DBG] Attempting to validate the bound parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel' ...
2025-01-03 00:37:59.875 +07:00 [DBG] Done attempting to validate the bound parameter 'value' of type 'SavingAccount_BE.Model.CardAddModel'.
2025-01-03 00:37:59.878 +07:00 [DBG] Entity Framework Core 8.0.10 initialized 'SavingAccountDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.10' with options: None
2025-01-03 00:37:59.884 +07:00 [DBG] Creating DbConnection.
2025-01-03 00:37:59.887 +07:00 [DBG] Created DbConnection. (3ms).
2025-01-03 00:37:59.890 +07:00 [DBG] Opening connection to database 'User' on server 'localhost'.
2025-01-03 00:37:59.892 +07:00 [DBG] Opened connection to database 'User' on server 'localhost'.
2025-01-03 00:37:59.895 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-01-03 00:37:59.897 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-01-03 00:37:59.899 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-01-03 00:37:59.902 +07:00 [DBG] Executing DbCommand [Parameters=[@__cam_idUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[UserIdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__cam_idUser_0
2025-01-03 00:37:59.922 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cam_idUser_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[UserIdUser]
FROM [User] AS [u]
WHERE [u].[IdUser] = @__cam_idUser_0
2025-01-03 00:37:59.927 +07:00 [DBG] Closing data reader to 'User' on server 'localhost'.
2025-01-03 00:37:59.929 +07:00 [DBG] A data reader for 'User' on server 'localhost' is being disposed after spending 2ms reading results.
2025-01-03 00:37:59.933 +07:00 [DBG] Closing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:59.935 +07:00 [DBG] Closed connection to database 'User' on server 'localhost' (2ms).
2025-01-03 00:37:59.939 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-01-03 00:37:59.949 +07:00 [DBG] No information found on request to perform content negotiation.
2025-01-03 00:37:59.951 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-01-03 00:37:59.952 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-01-03 00:37:59.953 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-01-03 00:37:59.957 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-01-03 00:37:59.959 +07:00 [INF] Executed action SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE) in 118.7007ms
2025-01-03 00:37:59.962 +07:00 [INF] Executed endpoint 'SavingAccount_BE.Controllers.AdminController.AddCard (SavingAccount_BE)'
2025-01-03 00:37:59.965 +07:00 [ERR] HTTP POST /api/admin/AddCardUser responded 500 in 161.6641 ms
2025-01-03 00:37:59.969 +07:00 [DBG] 'SavingAccountDbContext' disposed.
2025-01-03 00:37:59.972 +07:00 [DBG] Disposing connection to database 'User' on server 'localhost'.
2025-01-03 00:37:59.978 +07:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-01-03 00:37:59.984 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7231/api/admin/AddCardUser - 500 null text/plain; charset=utf-8 197.3605ms
